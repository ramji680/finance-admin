import{r as g,b as Gn,d as Xn,a as Z}from"./vendor-pRwqyV2Z.js";import{u as Yn,L as ts,O as Zn,a as ei,R as ti,b as le,N as Or,B as si}from"./router-CfPUMHgL.js";import{_ as q,a as Ze,R as As,L as Tr,C as Me,X as qe,Y as Be,T as Se,b as ft,c as Fe,B as Pr,d as Le,A as Fr,e as De,P as ri,f as ni,g as ii}from"./charts-DcoFeDgU.js";import{f as Ys}from"./utils-ChECpx7p.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Lr={exports:{}},Ut={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=g,oi=Symbol.for("react.element"),li=Symbol.for("react.fragment"),ci=Object.prototype.hasOwnProperty,di=ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ui={key:!0,ref:!0,__self:!0,__source:!0};function Dr(s,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ci.call(e,n)&&!ui.hasOwnProperty(n)&&(i[n]=e[n]);if(s&&s.defaultProps)for(n in e=s.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:oi,type:s,key:a,ref:o,props:i,_owner:di.current}}Ut.Fragment=li;Ut.jsx=Dr;Ut.jsxs=Dr;Lr.exports=Ut;var t=Lr.exports,ls={},Zs=Gn;ls.createRoot=Zs.createRoot,ls.hydrateRoot=Zs.hydrateRoot;var et=function(){function s(){this.listeners=[]}var e=s.prototype;return e.subscribe=function(n){var i=this,a=n||function(){};return this.listeners.push(a),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==a}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},s}(),_t=typeof window>"u";function G(){}function hi(s,e){return typeof s=="function"?s(e):s}function cs(s){return typeof s=="number"&&s>=0&&s!==1/0}function Et(s){return Array.isArray(s)?s:[s]}function Mr(s,e){return Math.max(s+(e||0)-Date.now(),0)}function mt(s,e,r){return It(s)?typeof e=="function"?q({},r,{queryKey:s,queryFn:e}):q({},e,{queryKey:s}):s}function xe(s,e,r){return It(s)?[q({},e,{queryKey:s}),r]:[s||{},e]}function fi(s,e){if(s===!0&&e===!0||s==null&&e==null)return"all";if(s===!1&&e===!1)return"none";var r=s??!e;return r?"active":"inactive"}function er(s,e){var r=s.active,n=s.exact,i=s.fetching,a=s.inactive,o=s.predicate,l=s.queryKey,c=s.stale;if(It(l)){if(n){if(e.queryHash!==Os(l,e.options))return!1}else if(!At(e.queryKey,l))return!1}var u=fi(r,a);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function tr(s,e){var r=s.exact,n=s.fetching,i=s.predicate,a=s.mutationKey;if(It(a)){if(!e.options.mutationKey)return!1;if(r){if(Ne(e.options.mutationKey)!==Ne(a))return!1}else if(!At(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function Os(s,e){var r=(e==null?void 0:e.queryKeyHashFn)||Ne;return r(s)}function Ne(s){var e=Et(s);return mi(e)}function mi(s){return JSON.stringify(s,function(e,r){return ds(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function At(s,e){return qr(Et(s),Et(e))}function qr(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?!Object.keys(e).some(function(r){return!qr(s[r],e[r])}):!1}function Ot(s,e){if(s===e)return s;var r=Array.isArray(s)&&Array.isArray(e);if(r||ds(s)&&ds(e)){for(var n=r?s.length:Object.keys(s).length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{},l=0,c=0;c<a;c++){var u=r?c:i[c];o[u]=Ot(s[u],e[u]),o[u]===s[u]&&l++}return n===a&&l===n?s:o}return e}function pi(s,e){if(s&&!e||e&&!s)return!1;for(var r in s)if(s[r]!==e[r])return!1;return!0}function ds(s){if(!sr(s))return!1;var e=s.constructor;if(typeof e>"u")return!0;var r=e.prototype;return!(!sr(r)||!r.hasOwnProperty("isPrototypeOf"))}function sr(s){return Object.prototype.toString.call(s)==="[object Object]"}function It(s){return typeof s=="string"||Array.isArray(s)}function xi(s){return new Promise(function(e){setTimeout(e,s)})}function rr(s){Promise.resolve().then(s).catch(function(e){return setTimeout(function(){throw e})})}function Br(){if(typeof AbortController=="function")return new AbortController}var yi=function(s){Ze(e,s);function e(){var n;return n=s.call(this)||this,n.setup=function(i){var a;if(!_t&&((a=window)!=null&&a.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,o=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(et),Je=new yi,gi=function(s){Ze(e,s);function e(){var n;return n=s.call(this)||this,n.setup=function(i){var a;if(!_t&&((a=window)!=null&&a.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var r=e.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var a,o=this;this.setup=i,(a=this.cleanup)==null||a.call(this),this.cleanup=i(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(et),pt=new gi;function bi(s){return Math.min(1e3*Math.pow(2,s),3e4)}function Tt(s){return typeof(s==null?void 0:s.cancel)=="function"}var Ur=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function xt(s){return s instanceof Ur}var Ir=function(e){var r=this,n=!1,i,a,o,l;this.abort=e.abort,this.cancel=function(p){return i==null?void 0:i(p)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,x){o=p,l=x});var c=function(x){r.isResolved||(r.isResolved=!0,e.onSuccess==null||e.onSuccess(x),a==null||a(),o(x))},u=function(x){r.isResolved||(r.isResolved=!0,e.onError==null||e.onError(x),a==null||a(),l(x))},d=function(){return new Promise(function(x){a=x,r.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){a=void 0,r.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function p(){if(!r.isResolved){var x;try{x=e.fn()}catch(y){x=Promise.reject(y)}i=function(v){if(!r.isResolved&&(u(new Ur(v)),r.abort==null||r.abort(),Tt(x)))try{x.cancel()}catch{}},r.isTransportCancelable=Tt(x),Promise.resolve(x).then(c).catch(function(y){var v,f;if(!r.isResolved){var R=(v=e.retry)!=null?v:3,j=(f=e.retryDelay)!=null?f:bi,b=typeof j=="function"?j(r.failureCount,y):j,C=R===!0||typeof R=="number"&&r.failureCount<R||typeof R=="function"&&R(r.failureCount,y);if(n||!C){u(y);return}r.failureCount++,e.onFail==null||e.onFail(r.failureCount,y),xi(b).then(function(){if(!Je.isFocused()||!pt.isOnline())return d()}).then(function(){n?u(y):p()})}})}};h()},vi=function(){function s(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var e=s.prototype;return e.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(n){var i=this;this.transactions?this.queue.push(n):rr(function(){i.notifyFn(n)})},e.batchCalls=function(n){var i=this;return function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];i.schedule(function(){n.apply(void 0,o)})}},e.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&rr(function(){n.batchNotifyFn(function(){i.forEach(function(a){n.notifyFn(a)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},s}(),H=new vi,$r=console;function Pt(){return $r}function ji(s){$r=s}var Ni=function(){function s(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var e=s.prototype;return e.setOptions=function(n){var i;this.options=q({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),cs(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,i){var a,o,l=this.state.data,c=hi(n,l);return(a=(o=this.options).isDataEqual)!=null&&a.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=Ot(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),c},e.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},e.cancel=function(n){var i,a=this.promise;return(i=this.retryer)==null||i.cancel(n),a?a.then(G).catch(G):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Mr(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,i=this.observers.find(function(a){return a.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,i){var a=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(j){return j.options.queryFn});d&&this.setOptions(d.options)}var h=Et(this.queryKey),p=Br(),x={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(x,"signal",{enumerable:!0,get:function(){if(p)return a.abortSignalConsumed=!0,p.signal}});var y=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(x)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:h,state:this.state,fetchFn:y,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var f;(f=this.options.behavior)==null||f.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=v.fetchOptions)==null?void 0:l.meta)){var R;this.dispatch({type:"fetch",meta:(R=v.fetchOptions)==null?void 0:R.meta})}return this.retryer=new Ir({fn:v.fetchFn,abort:p==null||(c=p.abort)==null?void 0:c.bind(p),onSuccess:function(b){a.setData(b),a.cache.config.onSuccess==null||a.cache.config.onSuccess(b,a),a.cacheTime===0&&a.optionalRemove()},onError:function(b){xt(b)&&b.silent||a.dispatch({type:"error",error:b}),xt(b)||(a.cache.config.onError==null||a.cache.config.onError(b,a),Pt().error(b)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),H.batch(function(){i.observers.forEach(function(a){a.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,a=typeof n.initialData<"u",o=a?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,l=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},e.reducer=function(n,i){var a,o;switch(i.type){case"failed":return q({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return q({},n,{isPaused:!0});case"continue":return q({},n,{isPaused:!1});case"fetch":return q({},n,{fetchFailureCount:0,fetchMeta:(a=i.meta)!=null?a:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return q({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=i.error;return xt(l)&&l.revert&&this.revertState?q({},this.revertState):q({},n,{error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return q({},n,{isInvalidated:!0});case"setState":return q({},n,i.state);default:return n}},s}(),wi=function(s){Ze(e,s);function e(n){var i;return i=s.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=e.prototype;return r.build=function(i,a,o){var l,c=a.queryKey,u=(l=a.queryHash)!=null?l:Os(c,a),d=this.get(u);return d||(d=new Ni({cache:this,queryKey:c,queryHash:u,options:i.defaultQueryOptions(a),state:o,defaultOptions:i.getQueryDefaults(c),meta:a.meta}),this.add(d)),d},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var a=this.queriesMap[i.queryHash];a&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),a===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;H.batch(function(){i.queries.forEach(function(a){i.remove(a)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,a){var o=xe(i,a),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return er(l,c)})},r.findAll=function(i,a){var o=xe(i,a),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return er(l,c)}):this.queries},r.notify=function(i){var a=this;H.batch(function(){a.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){var i=this;H.batch(function(){i.queries.forEach(function(a){a.onFocus()})})},r.onOnline=function(){var i=this;H.batch(function(){i.queries.forEach(function(a){a.onOnline()})})},e}(et),ki=function(){function s(r){this.options=q({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||Si(),this.meta=r.meta}var e=s.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(G).catch(G)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,i,a=this.state.status==="loading",o=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(l){l!==n.state.context&&n.dispatch({type:"loading",context:l,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(l){i=l,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(l){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(l,n.state.variables,n.state.context,n),Pt().error(l),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(l,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,l,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:l}),l})})},e.executeMutation=function(){var n=this,i;return this.retryer=new Ir({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var i=this;this.state=Ci(this.state,n),H.batch(function(){i.observers.forEach(function(a){a.onMutationUpdate(n)}),i.mutationCache.notify(i)})},s}();function Si(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Ci(s,e){switch(e.type){case"failed":return q({},s,{failureCount:s.failureCount+1});case"pause":return q({},s,{isPaused:!0});case"continue":return q({},s,{isPaused:!1});case"loading":return q({},s,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return q({},s,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return q({},s,{data:void 0,error:e.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"});case"setState":return q({},s,e.state);default:return s}}var Ri=function(s){Ze(e,s);function e(n){var i;return i=s.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=e.prototype;return r.build=function(i,a,o){var l=new ki({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(a),state:o,defaultOptions:a.mutationKey?i.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(l),l},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(a){return a!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;H.batch(function(){i.mutations.forEach(function(a){i.remove(a)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(a){return tr(i,a)})},r.findAll=function(i){return this.mutations.filter(function(a){return tr(i,a)})},r.notify=function(i){var a=this;H.batch(function(){a.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(a){return a.state.isPaused});return H.batch(function(){return i.reduce(function(a,o){return a.then(function(){return o.continue().catch(G)})},Promise.resolve())})},e}(et);function _i(){return{onFetch:function(e){e.fetchFn=function(){var r,n,i,a,o,l,c=(r=e.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(i=e.fetchOptions)==null||(a=i.meta)==null?void 0:a.fetchMore,d=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",p=(u==null?void 0:u.direction)==="backward",x=((o=e.state.data)==null?void 0:o.pages)||[],y=((l=e.state.data)==null?void 0:l.pageParams)||[],v=Br(),f=v==null?void 0:v.signal,R=y,j=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},C=function(T,M,U,se){return R=se?[M].concat(R):[].concat(R,[M]),se?[U].concat(T):[].concat(T,[U])},S=function(T,M,U,se){if(j)return Promise.reject("Cancelled");if(typeof U>"u"&&!M&&T.length)return Promise.resolve(T);var J={queryKey:e.queryKey,signal:f,pageParam:U,meta:e.meta},Y=b(J),Q=Promise.resolve(Y).then(function(L){return C(T,U,L,se)});if(Tt(Y)){var ne=Q;ne.cancel=Y.cancel}return Q},w;if(!x.length)w=S([]);else if(h){var A=typeof d<"u",$=A?d:nr(e.options,x);w=S(x,A,$)}else if(p){var _=typeof d<"u",F=_?d:Ei(e.options,x);w=S(x,_,F,!0)}else(function(){R=[];var N=typeof e.options.getNextPageParam>"u",T=c&&x[0]?c(x[0],0,x):!0;w=T?S([],N,y[0]):Promise.resolve(C([],y[0],x[0]));for(var M=function(J){w=w.then(function(Y){var Q=c&&x[J]?c(x[J],J,x):!0;if(Q){var ne=N?y[J]:nr(e.options,Y);return S(Y,N,ne)}return Promise.resolve(C(Y,y[J],x[J]))})},U=1;U<x.length;U++)M(U)})();var z=w.then(function(N){return{pages:N,pageParams:R}}),B=z;return B.cancel=function(){j=!0,v==null||v.abort(),Tt(w)&&w.cancel()},z}}}}function nr(s,e){return s.getNextPageParam==null?void 0:s.getNextPageParam(e[e.length-1],e)}function Ei(s,e){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(e[0],e)}var Ai=function(){function s(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new wi,this.mutationCache=r.mutationCache||new Ri,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=s.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=Je.subscribe(function(){Je.isFocused()&&pt.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=pt.subscribe(function(){Je.isFocused()&&pt.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(n,i){var a=xe(n,i),o=a[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(n){return this.mutationCache.findAll(q({},n,{fetching:!0})).length},e.getQueryData=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var a=i.queryKey,o=i.state,l=o.data;return[a,l]})},e.setQueryData=function(n,i,a){var o=mt(n),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(i,a)},e.setQueriesData=function(n,i,a){var o=this;return H.batch(function(){return o.getQueryCache().findAll(n).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,i,a)]})})},e.getQueryState=function(n,i){var a;return(a=this.queryCache.find(n,i))==null?void 0:a.state},e.removeQueries=function(n,i){var a=xe(n,i),o=a[0],l=this.queryCache;H.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},e.resetQueries=function(n,i,a){var o=this,l=xe(n,i,a),c=l[0],u=l[1],d=this.queryCache,h=q({},c,{active:!0});return H.batch(function(){return d.findAll(c).forEach(function(p){p.reset()}),o.refetchQueries(h,u)})},e.cancelQueries=function(n,i,a){var o=this,l=xe(n,i,a),c=l[0],u=l[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var h=H.batch(function(){return o.queryCache.findAll(c).map(function(p){return p.cancel(d)})});return Promise.all(h).then(G).catch(G)},e.invalidateQueries=function(n,i,a){var o,l,c,u=this,d=xe(n,i,a),h=d[0],p=d[1],x=q({},h,{active:(o=(l=h.refetchActive)!=null?l:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return H.batch(function(){return u.queryCache.findAll(h).forEach(function(y){y.invalidate()}),u.refetchQueries(x,p)})},e.refetchQueries=function(n,i,a){var o=this,l=xe(n,i,a),c=l[0],u=l[1],d=H.batch(function(){return o.queryCache.findAll(c).map(function(p){return p.fetch(void 0,q({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(d).then(G);return u!=null&&u.throwOnError||(h=h.catch(G)),h},e.fetchQuery=function(n,i,a){var o=mt(n,i,a),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},e.prefetchQuery=function(n,i,a){return this.fetchQuery(n,i,a).then(G).catch(G)},e.fetchInfiniteQuery=function(n,i,a){var o=mt(n,i,a);return o.behavior=_i(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(n,i,a){return this.fetchInfiniteQuery(n,i,a).then(G).catch(G)},e.cancelMutations=function(){var n=this,i=H.batch(function(){return n.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(i).then(G).catch(G)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,i){var a=this.queryDefaults.find(function(o){return Ne(n)===Ne(o.queryKey)});a?a.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},e.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(a){return At(n,a.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(n,i){var a=this.mutationDefaults.find(function(o){return Ne(n)===Ne(o.mutationKey)});a?a.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},e.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(a){return At(n,a.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var i=q({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Os(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:q({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},s}(),Oi=function(s){Ze(e,s);function e(n,i){var a;return a=s.call(this)||this,a.client=n,a.options=i,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(i),a}var r=e.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),ir(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return us(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return us(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(i,a){var o=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&ar(this.currentQuery,l,this.options,o)&&this.executeFetch(),this.updateResult(a),c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(i){var a=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,a);return this.createResult(o,a)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(i,a){var o=this,l={},c=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(i).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return c(u),i[u]}})}),(a.useErrorBoundary||a.suspense)&&c("error"),l},r.getNextResult=function(i){var a=this;return new Promise(function(o,l){var c=a.subscribe(function(u){u.isFetching||(c(),u.isError&&(i!=null&&i.throwOnError)?l(u.error):o(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(i){return this.fetch(q({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},r.fetchOptimistic=function(i){var a=this,o=this.client.defaultQueryObserverOptions(i),l=this.client.getQueryCache().build(this.client,o);return l.fetch().then(function(){return a.createResult(l,o)})},r.fetch=function(i){var a=this;return this.executeFetch(i).then(function(){return a.updateResult(),a.currentResult})},r.executeFetch=function(i){this.updateQuery();var a=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(a=a.catch(G)),a},r.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(_t||this.currentResult.isStale||!cs(this.options.staleTime))){var a=Mr(this.currentResult.dataUpdatedAt,this.options.staleTime),o=a+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},r.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},r.updateRefetchInterval=function(i){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(_t||this.options.enabled===!1||!cs(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||Je.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(i,a){var o=this.currentQuery,l=this.options,c=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,h=i!==o,p=h?i.state:this.currentQueryInitialState,x=h?this.currentResult:this.previousQueryResult,y=i.state,v=y.dataUpdatedAt,f=y.error,R=y.errorUpdatedAt,j=y.isFetching,b=y.status,C=!1,S=!1,w;if(a.optimisticResults){var A=this.hasListeners(),$=!A&&ir(i,a),_=A&&ar(i,o,a,l);($||_)&&(j=!0,v||(b="loading"))}if(a.keepPreviousData&&!y.dataUpdateCount&&(x!=null&&x.isSuccess)&&b!=="error")w=x.data,v=x.dataUpdatedAt,b=x.status,C=!0;else if(a.select&&typeof y.data<"u")if(c&&y.data===(u==null?void 0:u.data)&&a.select===this.selectFn)w=this.selectResult;else try{this.selectFn=a.select,w=a.select(y.data),a.structuralSharing!==!1&&(w=Ot(c==null?void 0:c.data,w)),this.selectResult=w,this.selectError=null}catch(B){Pt().error(B),this.selectError=B}else w=y.data;if(typeof a.placeholderData<"u"&&typeof w>"u"&&(b==="loading"||b==="idle")){var F;if(c!=null&&c.isPlaceholderData&&a.placeholderData===(d==null?void 0:d.placeholderData))F=c.data;else if(F=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof F<"u")try{F=a.select(F),a.structuralSharing!==!1&&(F=Ot(c==null?void 0:c.data,F)),this.selectError=null}catch(B){Pt().error(B),this.selectError=B}typeof F<"u"&&(b="success",w=F,S=!0)}this.selectError&&(f=this.selectError,w=this.selectResult,R=Date.now(),b="error");var z={status:b,isLoading:b==="loading",isSuccess:b==="success",isError:b==="error",isIdle:b==="idle",data:w,dataUpdatedAt:v,error:f,errorUpdatedAt:R,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:j,isRefetching:j&&b!=="loading",isLoadingError:b==="error"&&y.dataUpdatedAt===0,isPlaceholderData:S,isPreviousData:C,isRefetchError:b==="error"&&y.dataUpdatedAt!==0,isStale:Ts(i,a),refetch:this.refetch,remove:this.remove};return z},r.shouldNotifyListeners=function(i,a){if(!a)return!0;var o=this.options,l=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(i).some(function(d){var h=d,p=i[h]!==a[h],x=u==null?void 0:u.some(function(v){return v===d}),y=c==null?void 0:c.some(function(v){return v===d});return p&&!y&&(!u||x)})},r.updateResult=function(i){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!pi(this.currentResult,a)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(o.listeners=!0),this.notify(q({},o,i))}},r.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var a=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),i.addObserver(this))}},r.onQueryUpdate=function(i){var a={};i.type==="success"?a.onSuccess=!0:i.type==="error"&&!xt(i.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},r.notify=function(i){var a=this;H.batch(function(){i.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):i.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),i.listeners&&a.listeners.forEach(function(o){o(a.currentResult)}),i.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},e}(et);function Ti(s,e){return e.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&e.retryOnMount===!1)}function ir(s,e){return Ti(s,e)||s.state.dataUpdatedAt>0&&us(s,e,e.refetchOnMount)}function us(s,e,r){if(e.enabled!==!1){var n=typeof r=="function"?r(s):r;return n==="always"||n!==!1&&Ts(s,e)}return!1}function ar(s,e,r,n){return r.enabled!==!1&&(s!==e||n.enabled===!1)&&(!r.suspense||s.state.status!=="error")&&Ts(s,r)}function Ts(s,e){return s.isStaleByTime(e.staleTime)}var Pi=Xn.unstable_batchedUpdates;H.setBatchNotifyFunction(Pi);var Fi=console;ji(Fi);var or=Z.createContext(void 0),zr=Z.createContext(!1);function Qr(s){return s&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=or),window.ReactQueryClientContext):or}var Li=function(){var e=Z.useContext(Qr(Z.useContext(zr)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Di=function(e){var r=e.client,n=e.contextSharing,i=n===void 0?!1:n,a=e.children;Z.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var o=Qr(i);return Z.createElement(zr.Provider,{value:i},Z.createElement(o.Provider,{value:r},a))};function Mi(){var s=!1;return{clearReset:function(){s=!1},reset:function(){s=!0},isReset:function(){return s}}}var qi=Z.createContext(Mi()),Bi=function(){return Z.useContext(qi)};function Ui(s,e,r){return typeof e=="function"?e.apply(void 0,r):typeof e=="boolean"?e:!!s}function Ii(s,e){var r=Z.useRef(!1),n=Z.useState(0),i=n[1],a=Li(),o=Bi(),l=a.defaultQueryObserverOptions(s);l.optimisticResults=!0,l.onError&&(l.onError=H.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=H.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=H.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(o.isReset()||(l.retryOnMount=!1));var c=Z.useState(function(){return new e(a,l)}),u=c[0],d=u.getOptimisticResult(l);if(Z.useEffect(function(){r.current=!0,o.clearReset();var h=u.subscribe(H.batchCalls(function(){r.current&&i(function(p){return p+1})}));return u.updateResult(),function(){r.current=!1,h()}},[o,u]),Z.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&d.isLoading)throw u.fetchOptimistic(l).then(function(h){var p=h.data;l.onSuccess==null||l.onSuccess(p),l.onSettled==null||l.onSettled(p,null)}).catch(function(h){o.clearReset(),l.onError==null||l.onError(h),l.onSettled==null||l.onSettled(void 0,h)});if(d.isError&&!o.isReset()&&!d.isFetching&&Ui(l.suspense,l.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return l.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,l)),d}function ge(s,e,r){var n=mt(s,e,r);return Ii(n,Oi)}let $i={data:""},zi=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||$i,Qi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Hi=/\/\*[^]*?\*\/|  +/g,lr=/\n+/g,ye=(s,e)=>{let r="",n="",i="";for(let a in s){let o=s[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?ye(o,a):a+"{"+ye(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=ye(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ye.p?ye.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},fe={},Hr=s=>{if(typeof s=="object"){let e="";for(let r in s)e+=r+Hr(s[r]);return e}return s},Ki=(s,e,r,n,i)=>{let a=Hr(s),o=fe[a]||(fe[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!fe[o]){let c=a!==s?s:(u=>{let d,h,p=[{}];for(;d=Qi.exec(u.replace(Hi,""));)d[4]?p.shift():d[3]?(h=d[3].replace(lr," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(lr," ").trim();return p[0]})(s);fe[o]=ye(i?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&fe.g?fe.g:null;return r&&(fe.g=fe[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(fe[o],e,n,l),o},Vi=(s,e,r)=>s.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ye(l,""):l===!1?"":l}return n+i+(o??"")},"");function $t(s){let e=this||{},r=s.call?s(e.p):s;return Ki(r.unshift?r.raw?Vi(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,zi(e.target),e.g,e.o,e.k)}let Kr,hs,fs;$t.bind({g:1});let pe=$t.bind({k:1});function Wi(s,e,r,n){ye.p=e,Kr=s,hs=r,fs=n}function je(s,e){let r=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;r.p=Object.assign({theme:hs&&hs()},l),r.o=/ *go\d+/.test(c),l.className=$t.apply(r,n)+(c?" "+c:"");let u=s;return s[0]&&(u=l.as||s,delete l.as),fs&&u[0]&&fs(l),Kr(u,l)}return i}}var Ji=s=>typeof s=="function",Ft=(s,e)=>Ji(s)?s(e):s,Gi=(()=>{let s=0;return()=>(++s).toString()})(),Vr=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),Xi=20,Ps="default",Wr=(s,e)=>{let{toastLimit:r}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,r)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return Wr(s,{type:s.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...s,toasts:s.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let a=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},yt=[],Jr={toasts:[],pausedAt:void 0,settings:{toastLimit:Xi}},de={},Gr=(s,e=Ps)=>{de[e]=Wr(de[e]||Jr,s),yt.forEach(([r,n])=>{r===e&&n(de[e])})},Xr=s=>Object.keys(de).forEach(e=>Gr(s,e)),Yi=s=>Object.keys(de).find(e=>de[e].toasts.some(r=>r.id===s)),zt=(s=Ps)=>e=>{Gr(e,s)},Zi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ea=(s={},e=Ps)=>{let[r,n]=g.useState(de[e]||Jr),i=g.useRef(de[e]);g.useEffect(()=>(i.current!==de[e]&&n(de[e]),yt.push([e,n]),()=>{let o=yt.findIndex(([l])=>l===e);o>-1&&yt.splice(o,1)}),[e]);let a=r.toasts.map(o=>{var l,c,u;return{...s,...s[o.type],...o,removeDelay:o.removeDelay||((l=s[o.type])==null?void 0:l.removeDelay)||(s==null?void 0:s.removeDelay),duration:o.duration||((c=s[o.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||Zi[o.type],style:{...s.style,...(u=s[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:a}},ta=(s,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Gi()}),tt=s=>(e,r)=>{let n=ta(e,s,r);return zt(n.toasterId||Yi(n.id))({type:2,toast:n}),n.id},V=(s,e)=>tt("blank")(s,e);V.error=tt("error");V.success=tt("success");V.loading=tt("loading");V.custom=tt("custom");V.dismiss=(s,e)=>{let r={type:3,toastId:s};e?zt(e)(r):Xr(r)};V.dismissAll=s=>V.dismiss(void 0,s);V.remove=(s,e)=>{let r={type:4,toastId:s};e?zt(e)(r):Xr(r)};V.removeAll=s=>V.remove(void 0,s);V.promise=(s,e,r)=>{let n=V.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof s=="function"&&(s=s()),s.then(i=>{let a=e.success?Ft(e.success,i):void 0;return a?V.success(a,{id:n,...r,...r==null?void 0:r.success}):V.dismiss(n),i}).catch(i=>{let a=e.error?Ft(e.error,i):void 0;a?V.error(a,{id:n,...r,...r==null?void 0:r.error}):V.dismiss(n)}),s};var sa=1e3,ra=(s,e="default")=>{let{toasts:r,pausedAt:n}=ea(s,e),i=g.useRef(new Map).current,a=g.useCallback((h,p=sa)=>{if(i.has(h))return;let x=setTimeout(()=>{i.delete(h),o({type:4,toastId:h})},p);i.set(h,x)},[]);g.useEffect(()=>{if(n)return;let h=Date.now(),p=r.map(x=>{if(x.duration===1/0)return;let y=(x.duration||0)+x.pauseDuration-(h-x.createdAt);if(y<0){x.visible&&V.dismiss(x.id);return}return setTimeout(()=>V.dismiss(x.id,e),y)});return()=>{p.forEach(x=>x&&clearTimeout(x))}},[r,n,e]);let o=g.useCallback(zt(e),[e]),l=g.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=g.useCallback((h,p)=>{o({type:1,toast:{id:h,height:p}})},[o]),u=g.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=g.useCallback((h,p)=>{let{reverseOrder:x=!1,gutter:y=8,defaultPosition:v}=p||{},f=r.filter(b=>(b.position||v)===(h.position||v)&&b.height),R=f.findIndex(b=>b.id===h.id),j=f.filter((b,C)=>C<R&&b.visible).length;return f.filter(b=>b.visible).slice(...x?[j+1]:[0,j]).reduce((b,C)=>b+(C.height||0)+y,0)},[r]);return g.useEffect(()=>{r.forEach(h=>{if(h.dismissed)a(h.id,h.removeDelay);else{let p=i.get(h.id);p&&(clearTimeout(p),i.delete(h.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},na=pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ia=pe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aa=pe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,oa=je("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${na} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ia} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aa} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,la=pe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ca=je("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${la} 1s linear infinite;
`,da=pe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ua=pe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ha=je("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${da} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ua} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fa=je("div")`
  position: absolute;
`,ma=je("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pa=pe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xa=je("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ya=({toast:s})=>{let{icon:e,type:r,iconTheme:n}=s;return e!==void 0?typeof e=="string"?g.createElement(xa,null,e):e:r==="blank"?null:g.createElement(ma,null,g.createElement(ca,{...n}),r!=="loading"&&g.createElement(fa,null,r==="error"?g.createElement(oa,{...n}):g.createElement(ha,{...n})))},ga=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ba=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,va="0%{opacity:0;} 100%{opacity:1;}",ja="0%{opacity:1;} 100%{opacity:0;}",Na=je("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wa=je("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ka=(s,e)=>{let r=s.includes("top")?1:-1,[n,i]=Vr()?[va,ja]:[ga(r),ba(r)];return{animation:e?`${pe(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pe(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Sa=g.memo(({toast:s,position:e,style:r,children:n})=>{let i=s.height?ka(s.position||e||"top-center",s.visible):{opacity:0},a=g.createElement(ya,{toast:s}),o=g.createElement(wa,{...s.ariaProps},Ft(s.message,s));return g.createElement(Na,{className:s.className,style:{...i,...r,...s.style}},typeof n=="function"?n({icon:a,message:o}):g.createElement(g.Fragment,null,a,o))});Wi(g.createElement);var Ca=({id:s,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=g.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(s,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,n]);return g.createElement("div",{ref:a,className:e,style:r},i)},Ra=(s,e)=>{let r=s.includes("top"),n=r?{top:0}:{bottom:0},i=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},_a=$t`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,dt=16,Ea=({reverseOrder:s,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=ra(r,a);return g.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:dt,left:dt,right:dt,bottom:dt,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,p=u.calculateOffset(d,{reverseOrder:s,gutter:n,defaultPosition:e}),x=Ra(h,p);return g.createElement(Ca,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?_a:"",style:x},d.type==="custom"?Ft(d.message,d):i?i(d):g.createElement(Sa,{toast:d,position:h}))}))};function Yr(s,e){return function(){return s.apply(e,arguments)}}const{toString:Aa}=Object.prototype,{getPrototypeOf:Fs}=Object,{iterator:Qt,toStringTag:Zr}=Symbol,Ht=(s=>e=>{const r=Aa.call(e);return s[r]||(s[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),oe=s=>(s=s.toLowerCase(),e=>Ht(e)===s),Kt=s=>e=>typeof e===s,{isArray:Ie}=Array,Ge=Kt("undefined");function st(s){return s!==null&&!Ge(s)&&s.constructor!==null&&!Ge(s.constructor)&&ee(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const en=oe("ArrayBuffer");function Oa(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&en(s.buffer),e}const Ta=Kt("string"),ee=Kt("function"),tn=Kt("number"),rt=s=>s!==null&&typeof s=="object",Pa=s=>s===!0||s===!1,gt=s=>{if(Ht(s)!=="object")return!1;const e=Fs(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Zr in s)&&!(Qt in s)},Fa=s=>{if(!rt(s)||st(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},La=oe("Date"),Da=oe("File"),Ma=oe("Blob"),qa=oe("FileList"),Ba=s=>rt(s)&&ee(s.pipe),Ua=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||ee(s.append)&&((e=Ht(s))==="formdata"||e==="object"&&ee(s.toString)&&s.toString()==="[object FormData]"))},Ia=oe("URLSearchParams"),[$a,za,Qa,Ha]=["ReadableStream","Request","Response","Headers"].map(oe),Ka=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nt(s,e,{allOwnKeys:r=!1}={}){if(s===null||typeof s>"u")return;let n,i;if(typeof s!="object"&&(s=[s]),Ie(s))for(n=0,i=s.length;n<i;n++)e.call(null,s[n],n,s);else{if(st(s))return;const a=r?Object.getOwnPropertyNames(s):Object.keys(s),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,s[l],l,s)}}function sn(s,e){if(st(s))return null;e=e.toLowerCase();const r=Object.keys(s);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const we=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rn=s=>!Ge(s)&&s!==we;function ms(){const{caseless:s}=rn(this)&&this||{},e={},r=(n,i)=>{const a=s&&sn(e,i)||i;gt(e[a])&&gt(n)?e[a]=ms(e[a],n):gt(n)?e[a]=ms({},n):Ie(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&nt(arguments[n],r);return e}const Va=(s,e,r,{allOwnKeys:n}={})=>(nt(e,(i,a)=>{r&&ee(i)?s[a]=Yr(i,r):s[a]=i},{allOwnKeys:n}),s),Wa=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Ja=(s,e,r,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),r&&Object.assign(s.prototype,r)},Ga=(s,e,r,n)=>{let i,a,o;const l={};if(e=e||{},s==null)return e;do{for(i=Object.getOwnPropertyNames(s),a=i.length;a-- >0;)o=i[a],(!n||n(o,s,e))&&!l[o]&&(e[o]=s[o],l[o]=!0);s=r!==!1&&Fs(s)}while(s&&(!r||r(s,e))&&s!==Object.prototype);return e},Xa=(s,e,r)=>{s=String(s),(r===void 0||r>s.length)&&(r=s.length),r-=e.length;const n=s.indexOf(e,r);return n!==-1&&n===r},Ya=s=>{if(!s)return null;if(Ie(s))return s;let e=s.length;if(!tn(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=s[e];return r},Za=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Fs(Uint8Array)),eo=(s,e)=>{const n=(s&&s[Qt]).call(s);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(s,a[0],a[1])}},to=(s,e)=>{let r;const n=[];for(;(r=s.exec(e))!==null;)n.push(r);return n},so=oe("HTMLFormElement"),ro=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),cr=(({hasOwnProperty:s})=>(e,r)=>s.call(e,r))(Object.prototype),no=oe("RegExp"),nn=(s,e)=>{const r=Object.getOwnPropertyDescriptors(s),n={};nt(r,(i,a)=>{let o;(o=e(i,a,s))!==!1&&(n[a]=o||i)}),Object.defineProperties(s,n)},io=s=>{nn(s,(e,r)=>{if(ee(s)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=s[r];if(ee(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ao=(s,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Ie(s)?n(s):n(String(s).split(e)),r},oo=()=>{},lo=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function co(s){return!!(s&&ee(s.append)&&s[Zr]==="FormData"&&s[Qt])}const uo=s=>{const e=new Array(10),r=(n,i)=>{if(rt(n)){if(e.indexOf(n)>=0)return;if(st(n))return n;if(!("toJSON"in n)){e[i]=n;const a=Ie(n)?[]:{};return nt(n,(o,l)=>{const c=r(o,i+1);!Ge(c)&&(a[l]=c)}),e[i]=void 0,a}}return n};return r(s,0)},ho=oe("AsyncFunction"),fo=s=>s&&(rt(s)||ee(s))&&ee(s.then)&&ee(s.catch),an=((s,e)=>s?setImmediate:e?((r,n)=>(we.addEventListener("message",({source:i,data:a})=>{i===we&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),we.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ee(we.postMessage)),mo=typeof queueMicrotask<"u"?queueMicrotask.bind(we):typeof process<"u"&&process.nextTick||an,po=s=>s!=null&&ee(s[Qt]),m={isArray:Ie,isArrayBuffer:en,isBuffer:st,isFormData:Ua,isArrayBufferView:Oa,isString:Ta,isNumber:tn,isBoolean:Pa,isObject:rt,isPlainObject:gt,isEmptyObject:Fa,isReadableStream:$a,isRequest:za,isResponse:Qa,isHeaders:Ha,isUndefined:Ge,isDate:La,isFile:Da,isBlob:Ma,isRegExp:no,isFunction:ee,isStream:Ba,isURLSearchParams:Ia,isTypedArray:Za,isFileList:qa,forEach:nt,merge:ms,extend:Va,trim:Ka,stripBOM:Wa,inherits:Ja,toFlatObject:Ga,kindOf:Ht,kindOfTest:oe,endsWith:Xa,toArray:Ya,forEachEntry:eo,matchAll:to,isHTMLForm:so,hasOwnProperty:cr,hasOwnProp:cr,reduceDescriptors:nn,freezeMethods:io,toObjectSet:ao,toCamelCase:ro,noop:oo,toFiniteNumber:lo,findKey:sn,global:we,isContextDefined:rn,isSpecCompliantForm:co,toJSONObject:uo,isAsyncFn:ho,isThenable:fo,setImmediate:an,asap:mo,isIterable:po};function O(s,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}m.inherits(O,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const on=O.prototype,ln={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{ln[s]={value:s}});Object.defineProperties(O,ln);Object.defineProperty(on,"isAxiosError",{value:!0});O.from=(s,e,r,n,i,a)=>{const o=Object.create(on);return m.toFlatObject(s,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),O.call(o,s.message,e,r,n,i),o.cause=s,o.name=s.name,a&&Object.assign(o,a),o};const xo=null;function ps(s){return m.isPlainObject(s)||m.isArray(s)}function cn(s){return m.endsWith(s,"[]")?s.slice(0,-2):s}function dr(s,e,r){return s?s.concat(e).map(function(i,a){return i=cn(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function yo(s){return m.isArray(s)&&!s.some(ps)}const go=m.toFlatObject(m,{},null,function(e){return/^is[A-Z]/.test(e)});function Vt(s,e,r){if(!m.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,r=m.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,f){return!m.isUndefined(f[v])});const n=r.metaTokens,i=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(e);if(!m.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(m.isDate(y))return y.toISOString();if(m.isBoolean(y))return y.toString();if(!c&&m.isBlob(y))throw new O("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(y)||m.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,f){let R=y;if(y&&!f&&typeof y=="object"){if(m.endsWith(v,"{}"))v=n?v:v.slice(0,-2),y=JSON.stringify(y);else if(m.isArray(y)&&yo(y)||(m.isFileList(y)||m.endsWith(v,"[]"))&&(R=m.toArray(y)))return v=cn(v),R.forEach(function(b,C){!(m.isUndefined(b)||b===null)&&e.append(o===!0?dr([v],C,a):o===null?v:v+"[]",u(b))}),!1}return ps(y)?!0:(e.append(dr(f,v,a),u(y)),!1)}const h=[],p=Object.assign(go,{defaultVisitor:d,convertValue:u,isVisitable:ps});function x(y,v){if(!m.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),m.forEach(y,function(R,j){(!(m.isUndefined(R)||R===null)&&i.call(e,R,m.isString(j)?j.trim():j,v,p))===!0&&x(R,v?v.concat(j):[j])}),h.pop()}}if(!m.isObject(s))throw new TypeError("data must be an object");return x(s),e}function ur(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ls(s,e){this._pairs=[],s&&Vt(s,this,e)}const dn=Ls.prototype;dn.append=function(e,r){this._pairs.push([e,r])};dn.toString=function(e){const r=e?function(n){return e.call(this,n,ur)}:ur;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function bo(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function un(s,e,r){if(!e)return s;const n=r&&r.encode||bo;m.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(e,r):a=m.isURLSearchParams(e)?e.toString():new Ls(e,r).toString(n),a){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+a}return s}class hr{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){m.forEach(this.handlers,function(n){n!==null&&e(n)})}}const hn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vo=typeof URLSearchParams<"u"?URLSearchParams:Ls,jo=typeof FormData<"u"?FormData:null,No=typeof Blob<"u"?Blob:null,wo={isBrowser:!0,classes:{URLSearchParams:vo,FormData:jo,Blob:No},protocols:["http","https","file","blob","url","data"]},Ds=typeof window<"u"&&typeof document<"u",xs=typeof navigator=="object"&&navigator||void 0,ko=Ds&&(!xs||["ReactNative","NativeScript","NS"].indexOf(xs.product)<0),So=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Co=Ds&&window.location.href||"http://localhost",Ro=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ds,hasStandardBrowserEnv:ko,hasStandardBrowserWebWorkerEnv:So,navigator:xs,origin:Co},Symbol.toStringTag,{value:"Module"})),X={...Ro,...wo};function _o(s,e){return Vt(s,new X.classes.URLSearchParams,{visitor:function(r,n,i,a){return X.isNode&&m.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Eo(s){return m.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ao(s){const e={},r=Object.keys(s);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=s[a];return e}function fn(s){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&m.isArray(i)?i.length:o,c?(m.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!m.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&m.isArray(i[o])&&(i[o]=Ao(i[o])),!l)}if(m.isFormData(s)&&m.isFunction(s.entries)){const r={};return m.forEachEntry(s,(n,i)=>{e(Eo(n),i,r,0)}),r}return null}function Oo(s,e,r){if(m.isString(s))try{return(e||JSON.parse)(s),m.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(s)}const it={transitional:hn,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=m.isObject(e);if(a&&m.isHTMLForm(e)&&(e=new FormData(e)),m.isFormData(e))return i?JSON.stringify(fn(e)):e;if(m.isArrayBuffer(e)||m.isBuffer(e)||m.isStream(e)||m.isFile(e)||m.isBlob(e)||m.isReadableStream(e))return e;if(m.isArrayBufferView(e))return e.buffer;if(m.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _o(e,this.formSerializer).toString();if((l=m.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Vt(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Oo(e)):e}],transformResponse:[function(e){const r=this.transitional||it.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(m.isResponse(e)||m.isReadableStream(e))return e;if(e&&m.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?O.from(l,O.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],s=>{it.headers[s]={}});const To=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Po=s=>{const e={};let r,n,i;return s&&s.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&To[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},fr=Symbol("internals");function Qe(s){return s&&String(s).trim().toLowerCase()}function bt(s){return s===!1||s==null?s:m.isArray(s)?s.map(bt):String(s)}function Fo(s){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(s);)e[n[1]]=n[2];return e}const Lo=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function ss(s,e,r,n,i){if(m.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!m.isString(e)){if(m.isString(n))return e.indexOf(n)!==-1;if(m.isRegExp(n))return n.test(e)}}function Do(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Mo(s,e){const r=m.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let te=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(l,c,u){const d=Qe(c);if(!d)throw new Error("header name must be a non-empty string");const h=m.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=bt(l))}const o=(l,c)=>m.forEach(l,(u,d)=>a(u,d,c));if(m.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(m.isString(e)&&(e=e.trim())&&!Lo(e))o(Po(e),r);else if(m.isObject(e)&&m.isIterable(e)){let l={},c,u;for(const d of e){if(!m.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?m.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=Qe(e),e){const n=m.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Fo(i);if(m.isFunction(r))return r.call(this,i,n);if(m.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Qe(e),e){const n=m.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ss(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=Qe(o),o){const l=m.findKey(n,o);l&&(!r||ss(n,n[l],l,r))&&(delete n[l],i=!0)}}return m.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||ss(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return m.forEach(this,(i,a)=>{const o=m.findKey(n,a);if(o){r[o]=bt(i),delete r[a];return}const l=e?Do(a):String(a).trim();l!==a&&delete r[a],r[l]=bt(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return m.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&m.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[fr]=this[fr]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=Qe(o);n[l]||(Mo(i,o),n[l]=!0)}return m.isArray(e)?e.forEach(a):a(e),this}};te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.reduceDescriptors(te.prototype,({value:s},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[r]=n}}});m.freezeMethods(te);function rs(s,e){const r=this||it,n=e||r,i=te.from(n.headers);let a=n.data;return m.forEach(s,function(l){a=l.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function mn(s){return!!(s&&s.__CANCEL__)}function $e(s,e,r){O.call(this,s??"canceled",O.ERR_CANCELED,e,r),this.name="CanceledError"}m.inherits($e,O,{__CANCEL__:!0});function pn(s,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?s(r):e(new O("Request failed with status code "+r.status,[O.ERR_BAD_REQUEST,O.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function qo(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function Bo(s,e){s=s||10;const r=new Array(s),n=new Array(s);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[i]=c,n[i]=u;let h=a,p=0;for(;h!==i;)p+=r[h++],h=h%s;if(i=(i+1)%s,i===a&&(a=(a+1)%s),u-o<e)return;const x=d&&u-d;return x?Math.round(p*1e3/x):void 0}}function Uo(s,e){let r=0,n=1e3/e,i,a;const o=(u,d=Date.now())=>{r=d,i=null,a&&(clearTimeout(a),a=null),s(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?o(u,d):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const Lt=(s,e,r=3)=>{let n=0;const i=Bo(50,250);return Uo(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=i(c),d=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};s(h)},r)},mr=(s,e)=>{const r=s!=null;return[n=>e[0]({lengthComputable:r,total:s,loaded:n}),e[1]]},pr=s=>(...e)=>m.asap(()=>s(...e)),Io=X.hasStandardBrowserEnv?((s,e)=>r=>(r=new URL(r,X.origin),s.protocol===r.protocol&&s.host===r.host&&(e||s.port===r.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,$o=X.hasStandardBrowserEnv?{write(s,e,r,n,i,a){const o=[s+"="+encodeURIComponent(e)];m.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),m.isString(n)&&o.push("path="+n),m.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zo(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Qo(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function xn(s,e,r){let n=!zo(e);return s&&(n||r==!1)?Qo(s,e):e}const xr=s=>s instanceof te?{...s}:s;function _e(s,e){e=e||{};const r={};function n(u,d,h,p){return m.isPlainObject(u)&&m.isPlainObject(d)?m.merge.call({caseless:p},u,d):m.isPlainObject(d)?m.merge({},d):m.isArray(d)?d.slice():d}function i(u,d,h,p){if(m.isUndefined(d)){if(!m.isUndefined(u))return n(void 0,u,h,p)}else return n(u,d,h,p)}function a(u,d){if(!m.isUndefined(d))return n(void 0,d)}function o(u,d){if(m.isUndefined(d)){if(!m.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in e)return n(u,d);if(h in s)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>i(xr(u),xr(d),h,!0)};return m.forEach(Object.keys({...s,...e}),function(d){const h=c[d]||i,p=h(s[d],e[d],d);m.isUndefined(p)&&h!==l||(r[d]=p)}),r}const yn=s=>{const e=_e({},s);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=te.from(o),e.url=un(xn(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(m.isFormData(r)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(X.hasStandardBrowserEnv&&(n&&m.isFunction(n)&&(n=n(e)),n||n!==!1&&Io(e.url))){const u=i&&a&&$o.read(a);u&&o.set(i,u)}return e},Ho=typeof XMLHttpRequest<"u",Ko=Ho&&function(s){return new Promise(function(r,n){const i=yn(s);let a=i.data;const o=te.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,p,x,y;function v(){x&&x(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let f=new XMLHttpRequest;f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout;function R(){if(!f)return;const b=te.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:b,config:s,request:f};pn(function(A){r(A),v()},function(A){n(A),v()},S),f=null}"onloadend"in f?f.onloadend=R:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(R)},f.onabort=function(){f&&(n(new O("Request aborted",O.ECONNABORTED,s,f)),f=null)},f.onerror=function(){n(new O("Network Error",O.ERR_NETWORK,s,f)),f=null},f.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||hn;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),n(new O(C,S.clarifyTimeoutError?O.ETIMEDOUT:O.ECONNABORTED,s,f)),f=null},a===void 0&&o.setContentType(null),"setRequestHeader"in f&&m.forEach(o.toJSON(),function(C,S){f.setRequestHeader(S,C)}),m.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),l&&l!=="json"&&(f.responseType=i.responseType),u&&([p,y]=Lt(u,!0),f.addEventListener("progress",p)),c&&f.upload&&([h,x]=Lt(c),f.upload.addEventListener("progress",h),f.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(d=b=>{f&&(n(!b||b.type?new $e(null,s,f):b),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const j=qo(i.url);if(j&&X.protocols.indexOf(j)===-1){n(new O("Unsupported protocol "+j+":",O.ERR_BAD_REQUEST,s));return}f.send(a||null)})},Vo=(s,e)=>{const{length:r}=s=s?s.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof O?d:new $e(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,a(new O(`timeout ${e} of ms exceeded`,O.ETIMEDOUT))},e);const l=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),s=null)};s.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>m.asap(l),c}},Wo=function*(s,e){let r=s.byteLength;if(r<e){yield s;return}let n=0,i;for(;n<r;)i=n+e,yield s.slice(n,i),n=i},Jo=async function*(s,e){for await(const r of Go(s))yield*Wo(r,e)},Go=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},yr=(s,e,r,n)=>{const i=Jo(s,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(r){let p=a+=h;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Wt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gn=Wt&&typeof ReadableStream=="function",Xo=Wt&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),bn=(s,...e)=>{try{return!!s(...e)}catch{return!1}},Yo=gn&&bn(()=>{let s=!1;const e=new Request(X.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),gr=64*1024,ys=gn&&bn(()=>m.isReadableStream(new Response("").body)),Dt={stream:ys&&(s=>s.body)};Wt&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Dt[e]&&(Dt[e]=m.isFunction(s[e])?r=>r[e]():(r,n)=>{throw new O(`Response type '${e}' is not supported`,O.ERR_NOT_SUPPORT,n)})})})(new Response);const Zo=async s=>{if(s==null)return 0;if(m.isBlob(s))return s.size;if(m.isSpecCompliantForm(s))return(await new Request(X.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(m.isArrayBufferView(s)||m.isArrayBuffer(s))return s.byteLength;if(m.isURLSearchParams(s)&&(s=s+""),m.isString(s))return(await Xo(s)).byteLength},el=async(s,e)=>{const r=m.toFiniteNumber(s.getContentLength());return r??Zo(e)},tl=Wt&&(async s=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:p}=yn(s);u=u?(u+"").toLowerCase():"text";let x=Vo([i,a&&a.toAbortSignal()],o),y;const v=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let f;try{if(c&&Yo&&r!=="get"&&r!=="head"&&(f=await el(d,n))!==0){let S=new Request(e,{method:"POST",body:n,duplex:"half"}),w;if(m.isFormData(n)&&(w=S.headers.get("content-type"))&&d.setContentType(w),S.body){const[A,$]=mr(f,Lt(pr(c)));n=yr(S.body,gr,A,$)}}m.isString(h)||(h=h?"include":"omit");const R="credentials"in Request.prototype;y=new Request(e,{...p,signal:x,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:R?h:void 0});let j=await fetch(y,p);const b=ys&&(u==="stream"||u==="response");if(ys&&(l||b&&v)){const S={};["status","statusText","headers"].forEach(_=>{S[_]=j[_]});const w=m.toFiniteNumber(j.headers.get("content-length")),[A,$]=l&&mr(w,Lt(pr(l),!0))||[];j=new Response(yr(j.body,gr,A,()=>{$&&$(),v&&v()}),S)}u=u||"text";let C=await Dt[m.findKey(Dt,u)||"text"](j,s);return!b&&v&&v(),await new Promise((S,w)=>{pn(S,w,{data:C,headers:te.from(j.headers),status:j.status,statusText:j.statusText,config:s,request:y})})}catch(R){throw v&&v(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new O("Network Error",O.ERR_NETWORK,s,y),{cause:R.cause||R}):O.from(R,R&&R.code,s,y)}}),gs={http:xo,xhr:Ko,fetch:tl};m.forEach(gs,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const br=s=>`- ${s}`,sl=s=>m.isFunction(s)||s===null||s===!1,vn={getAdapter:s=>{s=m.isArray(s)?s:[s];const{length:e}=s;let r,n;const i={};for(let a=0;a<e;a++){r=s[a];let o;if(n=r,!sl(r)&&(n=gs[(o=String(r)).toLowerCase()],n===void 0))throw new O(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(br).join(`
`):" "+br(a[0]):"as no adapter specified";throw new O("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:gs};function ns(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new $e(null,s)}function vr(s){return ns(s),s.headers=te.from(s.headers),s.data=rs.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),vn.getAdapter(s.adapter||it.adapter)(s).then(function(n){return ns(s),n.data=rs.call(s,s.transformResponse,n),n.headers=te.from(n.headers),n},function(n){return mn(n)||(ns(s),n&&n.response&&(n.response.data=rs.call(s,s.transformResponse,n.response),n.response.headers=te.from(n.response.headers))),Promise.reject(n)})}const jn="1.11.0",Jt={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Jt[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const jr={};Jt.transitional=function(e,r,n){function i(a,o){return"[Axios v"+jn+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new O(i(o," has been removed"+(r?" in "+r:"")),O.ERR_DEPRECATED);return r&&!jr[o]&&(jr[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,l):!0}};Jt.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function rl(s,e,r){if(typeof s!="object")throw new O("options must be an object",O.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const l=s[a],c=l===void 0||o(l,a,s);if(c!==!0)throw new O("option "+a+" must be "+c,O.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new O("Unknown option "+a,O.ERR_BAD_OPTION)}}const vt={assertOptions:rl,validators:Jt},ce=vt.validators;let Ce=class{constructor(e){this.defaults=e||{},this.interceptors={request:new hr,response:new hr}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=_e(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&vt.assertOptions(n,{silentJSONParsing:ce.transitional(ce.boolean),forcedJSONParsing:ce.transitional(ce.boolean),clarifyTimeoutError:ce.transitional(ce.boolean)},!1),i!=null&&(m.isFunction(i)?r.paramsSerializer={serialize:i}:vt.assertOptions(i,{encode:ce.function,serialize:ce.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),vt.assertOptions(r,{baseUrl:ce.spelling("baseURL"),withXsrfToken:ce.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&m.merge(a.common,a[r.method]);a&&m.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=te.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!c){const y=[vr.bind(this),void 0];for(y.unshift(...l),y.push(...u),p=y.length,d=Promise.resolve(r);h<p;)d=d.then(y[h++],y[h++]);return d}p=l.length;let x=r;for(h=0;h<p;){const y=l[h++],v=l[h++];try{x=y(x)}catch(f){v.call(this,f);break}}try{d=vr.call(this,x)}catch(y){return Promise.reject(y)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=_e(this.defaults,e);const r=xn(e.baseURL,e.url,e.allowAbsoluteUrls);return un(r,e.params,e.paramsSerializer)}};m.forEach(["delete","get","head","options"],function(e){Ce.prototype[e]=function(r,n){return this.request(_e(n||{},{method:e,url:r,data:(n||{}).data}))}});m.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,l){return this.request(_e(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ce.prototype[e]=r(),Ce.prototype[e+"Form"]=r(!0)});let nl=class Nn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new $e(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Nn(function(i){e=i}),cancel:e}}};function il(s){return function(r){return s.apply(null,r)}}function al(s){return m.isObject(s)&&s.isAxiosError===!0}const bs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bs).forEach(([s,e])=>{bs[e]=s});function wn(s){const e=new Ce(s),r=Yr(Ce.prototype.request,e);return m.extend(r,Ce.prototype,e,{allOwnKeys:!0}),m.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return wn(_e(s,i))},r}const I=wn(it);I.Axios=Ce;I.CanceledError=$e;I.CancelToken=nl;I.isCancel=mn;I.VERSION=jn;I.toFormData=Vt;I.AxiosError=O;I.Cancel=I.CanceledError;I.all=function(e){return Promise.all(e)};I.spread=il;I.isAxiosError=al;I.mergeConfig=_e;I.AxiosHeaders=te;I.formToJSON=s=>fn(m.isHTMLForm(s)?new FormData(s):s);I.getAdapter=vn.getAdapter;I.HttpStatusCode=bs;I.default=I;const{Axios:Gc,AxiosError:Xc,CanceledError:Yc,isCancel:Zc,CancelToken:ed,VERSION:td,all:sd,Cancel:rd,isAxiosError:nd,spread:id,toFormData:ad,AxiosHeaders:od,HttpStatusCode:ld,formToJSON:cd,getAdapter:dd,mergeConfig:ud}=I,kn=g.createContext(void 0),ol=({children:s})=>{const[e,r]=g.useState(null),[n,i]=g.useState(!0);g.useEffect(()=>{const c=localStorage.getItem("authToken"),u=localStorage.getItem("user");if(c&&u)try{I.defaults.headers.common.Authorization=`Bearer ${c}`,r(JSON.parse(u))}catch(d){console.error("Error parsing saved user:",d),localStorage.removeItem("authToken"),localStorage.removeItem("user")}i(!1)},[]);const l={user:e,isAuthenticated:!!e,login:async(c,u)=>{var d,h;i(!0);try{const p=await I.post("https://finance-admin-be.onrender.com/api/auth/login",{username:c,password:u}),{token:x,user:y}=p.data;localStorage.setItem("authToken",x),localStorage.setItem("user",JSON.stringify(y)),I.defaults.headers.common.Authorization=`Bearer ${x}`,r(y)}catch(p){throw console.error("Login error:",p),(h=(d=p.response)==null?void 0:d.data)!=null&&h.error?new Error(p.response.data.error):new Error("Login failed. Please check your credentials.")}finally{i(!1)}},logout:async()=>{i(!0);try{await I.post("https://finance-admin-be.onrender.com/api/auth/logout")}catch(c){console.error("Logout error:",c)}finally{localStorage.removeItem("authToken"),localStorage.removeItem("user"),delete I.defaults.headers.common.Authorization,r(null),i(!1)}},loading:n};return t.jsx(kn.Provider,{value:l,children:s})},at=()=>{const s=g.useContext(kn);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ll={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),E=(s,e)=>{const r=g.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...ll,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${cl(s)}`,l].join(" "),...u},[...e.map(([h,p])=>g.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${s}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=E("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=E("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=E("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=E("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=E("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=E("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=E("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=E("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=E("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=E("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=E("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=E("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=E("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=E("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=E("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=E("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=E("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=E("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=E("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=E("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=E("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=E("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=E("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=E("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=E("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=E("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=E("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=E("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=E("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=E("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=E("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=E("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=E("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=E("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=E("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=E("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=E("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=E("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=E("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=E("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=E("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=E("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=E("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=E("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=E("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=E("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=E("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=E("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=E("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=E("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=E("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=E("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=E("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Tl=({isOpen:s,onToggle:e})=>{const r=Yn(),{logout:n}=at(),i=[{name:"Dashboard",href:"/dashboard",icon:yl,color:"from-blue-500 to-blue-600",description:"Overview & Analytics"},{name:"Restaurants",href:"/restaurants",icon:ke,color:"from-green-500 to-green-600",description:"Manage Restaurants"},{name:"Payments",href:"/payments",icon:Ee,color:"from-purple-500 to-purple-600",description:"Payment Processing"},{name:"Support",href:"/support",icon:Re,color:"from-orange-500 to-orange-600",description:"Customer Support"},{name:"Analytics",href:"/analytics",icon:be,color:"from-indigo-500 to-indigo-600",description:"Advanced Reports"},{name:"Users",href:"/users",icon:Xt,color:"from-pink-500 to-pink-600",description:"User Management"},{name:"Reports",href:"/reports",icon:vs,color:"from-teal-500 to-teal-600",description:"Detailed Reports"}],a=async()=>{try{await n()}catch(o){console.error("Logout failed:",o)}};return t.jsxs(t.Fragment,{children:[s&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden",onClick:e}),t.jsxs("div",{className:`
        fixed left-0 top-0 h-full w-64 bg-white/95 backdrop-blur-xl shadow-2xl border-r border-white/30 
        transform transition-all duration-300 ease-in-out z-50
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100/50",children:[t.jsxs(ts,{to:"/dashboard",className:"flex items-center space-x-3 group",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200",children:t.jsx("span",{className:"text-white font-bold text-lg",children:"F"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Fynito"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Superadmin Portal"})]})]}),t.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t.jsx(Ns,{className:"w-5 h-5 text-gray-600"})})]}),t.jsx("nav",{className:"p-4 space-y-1",children:i.map(o=>{const l=r.pathname===o.href,c=o.icon;return t.jsxs(ts,{to:o.href,className:`
                  group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-200
                  ${l?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 shadow-md scale-105 border border-blue-200/50":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:scale-105"}
                `,children:[t.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t.jsx("div",{className:`
                    w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 flex-shrink-0
                    ${l?"bg-gradient-to-br "+o.color+" shadow-lg":"bg-gray-100 group-hover:bg-gradient-to-br group-hover:"+o.color+" group-hover:shadow-lg"}
                  `,children:t.jsx(c,{className:`w-5 h-5 transition-all duration-200 ${l?"text-white":"text-gray-500 group-hover:text-white"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("span",{className:"font-medium block",children:o.name}),t.jsx("span",{className:"text-xs text-gray-500 hidden lg:block",children:o.description})]})]}),l&&t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse flex-shrink-0"})]},o.name)})}),t.jsx("div",{className:"px-4 py-2",children:t.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"})}),t.jsxs("div",{className:"p-4 space-y-2",children:[t.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-4 mb-3",children:"Quick Actions"}),t.jsxs("button",{className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-xl transition-all duration-200 hover:scale-105",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Rn,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("span",{className:"font-medium",children:"Settings"}),t.jsx("span",{className:"text-xs text-gray-500 hidden lg:block",children:"System Configuration"})]})]}),t.jsxs(ts,{to:"/",className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-xl transition-all duration-200 hover:scale-105",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(xl,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("span",{className:"font-medium",children:"Home"}),t.jsx("span",{className:"text-xs text-gray-500 hidden lg:block",children:"Back to Main"})]})]})]}),t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"p-4 border-t border-gray-100/50",children:t.jsxs("button",{onClick:a,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200 hover:scale-105 group",children:[t.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-500 transition-colors duration-200 flex-shrink-0",children:t.jsx(vl,{className:"w-5 h-5 text-red-500 group-hover:text-white transition-colors duration-200"})}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("span",{className:"font-medium",children:"Sign Out"}),t.jsx("span",{className:"text-xs text-red-500 hidden lg:block",children:"Secure Logout"})]})]})})]}),t.jsx("button",{onClick:e,className:"fixed top-4 left-4 z-50 lg:hidden p-3 bg-white/90 backdrop-blur-sm rounded-xl shadow-lg border border-white/20 hover:scale-105 transition-transform duration-200",children:t.jsx(jl,{className:"w-6 h-6 text-gray-700"})})]})},Pl=({onSidebarToggle:s})=>{var R;const{user:e}=at(),[r,n]=g.useState(!1),[i,a]=g.useState(!1),[o,l]=g.useState(!1),[c,u]=g.useState(""),[d,h]=g.useState(!1),p=[{id:1,type:"payment",title:"Payment Completed",message:"Restaurant ABC payment processed successfully",time:"2 minutes ago",icon:Ee,color:"text-green-500",bgColor:"bg-green-50",borderColor:"border-green-200"},{id:2,type:"support",title:"New Support Ticket",message:"High priority ticket from Restaurant XYZ",time:"5 minutes ago",icon:Re,color:"text-orange-500",bgColor:"bg-orange-50",borderColor:"border-orange-200"},{id:3,type:"alert",title:"System Alert",message:"Database backup completed successfully",time:"10 minutes ago",icon:Xe,color:"text-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:4,type:"payment",title:"Payment Failed",message:"Payment processing failed for Restaurant DEF",time:"15 minutes ago",icon:Ee,color:"text-red-500",bgColor:"bg-red-50",borderColor:"border-red-200"}],x=[{label:"Restaurants",value:"restaurants",count:45},{label:"Payments",value:"payments",count:128},{label:"Orders",value:"orders",count:256},{label:"Users",value:"users",count:89}],y=()=>{n(!r),document.documentElement.classList.toggle("dark")},v=j=>{j.preventDefault(),console.log("Searching for:",c)},f=()=>{u(""),h(!1)};return g.useEffect(()=>{const j=b=>{(i||o)&&(a(!1),l(!1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[i,o]),t.jsx("header",{className:"bg-white/90 backdrop-blur-xl shadow-sm border-b border-gray-100/50 sticky top-0 z-40",children:t.jsx("div",{className:"px-4 sm:px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[t.jsx("button",{onClick:s,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center items-center space-y-1",children:[t.jsx("div",{className:"w-5 h-1 bg-gray-600 rounded-full"}),t.jsx("div",{className:"w-5 h-1 bg-gray-600 rounded-full"}),t.jsx("div",{className:"w-5 h-1 bg-gray-600 rounded-full"})]})}),t.jsxs("div",{className:"relative hidden md:block",children:[t.jsxs("form",{onSubmit:v,className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(ot,{className:"h-5 w-5 text-gray-400"})}),t.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),onFocus:()=>h(!0),placeholder:"Search restaurants, payments, tickets...",className:"w-80 pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-300"}),c&&t.jsx("button",{type:"button",onClick:f,className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:text-gray-600 transition-colors",children:t.jsx(Ns,{className:"h-4 w-4 text-gray-400"})})]}),d&&t.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-100 py-2 z-50 animate-fade-in",children:[t.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Quick Filters"}),t.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Ns,{className:"h-4 w-4"})})]})}),t.jsx("div",{className:"py-1",children:x.map(j=>t.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",onClick:()=>{u(j.label),h(!1)},children:[t.jsx("span",{children:j.label}),t.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:j.count})]},j.value))})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[t.jsx("button",{onClick:y,className:"p-2.5 rounded-xl hover:bg-gray-100 transition-all duration-200 hover:scale-105",title:r?"Switch to Light Mode":"Switch to Dark Mode",children:r?t.jsx(_l,{className:"h-5 w-5 text-yellow-500"}):t.jsx(Nl,{className:"h-5 w-5 text-gray-600"})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>a(!i),className:"relative p-2.5 rounded-xl hover:bg-gray-100 transition-all duration-200 hover:scale-105",children:[t.jsx(ul,{className:"h-5 w-5 text-gray-600"}),p.length>0&&t.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center animate-pulse",children:p.length})]}),i&&t.jsxs("div",{className:"absolute right-0 mt-3 w-80 bg-white rounded-xl shadow-2xl border border-gray-100 py-2 z-50 animate-fade-in",children:[t.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"}),t.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Mark all read"})]})}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:p.map(j=>{const b=j.icon;return t.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 transition-colors duration-150 cursor-pointer border-l-4 ${j.borderColor}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:`mt-1 ${j.color}`,children:t.jsx(b,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.title}),t.jsx("p",{className:"text-sm text-gray-600 truncate",children:j.message}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:j.time})]})]})},j.id)})}),t.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:t.jsx("button",{className:"w-full text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View all notifications"})})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>l(!o),className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-gray-100 transition-all duration-200 hover:scale-105",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:t.jsx("span",{className:"text-white font-semibold text-sm",children:((R=e==null?void 0:e.name)==null?void 0:R.charAt(0).toUpperCase())||"A"})}),t.jsxs("div",{className:"hidden md:block text-left",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:(e==null?void 0:e.name)||"Admin"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Superadmin"})]}),t.jsx(fl,{className:"h-4 w-4 text-gray-400"})]}),o&&t.jsxs("div",{className:"absolute right-0 mt-3 w-56 bg-white rounded-xl shadow-2xl border border-gray-100 py-2 z-50 animate-fade-in",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:(e==null?void 0:e.name)||"Admin User"}),t.jsx("p",{className:"text-sm text-gray-500",children:(e==null?void 0:e.email)||"admin@fynito.com"})]}),t.jsxs("div",{className:"py-1",children:[t.jsxs("button",{className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[t.jsx(Bt,{className:"h-4 w-4 mr-3 text-gray-400"}),"Profile"]}),t.jsxs("button",{className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[t.jsx(Rn,{className:"h-4 w-4 mr-3 text-gray-400"}),"Settings"]}),t.jsxs("button",{className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[t.jsx(pl,{className:"h-4 w-4 mr-3 text-gray-400"}),"Help & Support"]})]}),t.jsx("div",{className:"border-t border-gray-100 py-1",children:t.jsxs("button",{className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-150",children:[t.jsx("div",{className:"w-4 h-4 mr-3 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})}),"Sign out"]})})]})]})]})]})})})},Fl=()=>{const[s,e]=g.useState(!1),[r,n]=g.useState(!1);g.useEffect(()=>{const o=()=>{n(window.innerWidth<1024),window.innerWidth>=1024&&e(!1)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const i=()=>{e(!s)},a=()=>{r&&e(!1)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[t.jsx(Tl,{isOpen:s,onToggle:i}),t.jsxs("div",{className:`transition-all duration-300 ease-in-out ${s&&r?"ml-0":"lg:ml-64"}`,children:[t.jsx(Pl,{onSidebarToggle:i}),t.jsx("main",{className:"min-h-screen",children:t.jsx(Zn,{})})]}),s&&r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30 lg:hidden",onClick:a})]})},Ll=()=>{const[s,e]=g.useState(""),[r,n]=g.useState(""),[i,a]=g.useState(!1),[o,l]=g.useState(""),[c,u]=g.useState(!1),{login:d}=at(),h=ei(),p=async x=>{x.preventDefault(),l(""),u(!0);try{await d(s,r),h("/dashboard")}catch(y){l(y.message||"Login failed. Please try again.")}finally{u(!1)}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl flex items-center justify-center shadow-lg mb-6",children:t.jsx("span",{className:"text-white text-2xl font-bold",children:"F"})}),t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-gray-600",children:"Sign in to your Finito Admin account"})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[t.jsxs("form",{onSubmit:p,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{id:"username",name:"username",type:"email",autoComplete:"email",required:!0,value:s,onChange:x=>e(x.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,minLength:6,value:r,onChange:x=>n(x.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter password"}),t.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i?t.jsx(ml,{size:20}):t.jsx(Ae,{size:20})})]})]}),o&&t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[t.jsx(dl,{size:20}),t.jsx("span",{className:"text-sm",children:o})]}),t.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-3 px-4 rounded-xl font-medium hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing In...":"Sign In"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("p",{className:"text-sm text-gray-500",children:"Protected by enterprise-grade security"})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-sm text-gray-500",children:["Need help? Contact"," ",t.jsx("a",{href:"mailto:support@finito.com",className:"text-blue-600 hover:text-blue-700 font-medium",children:"support@finito.com"})]})})]})})},W=I.create({baseURL:"https://finance-admin-be.onrender.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});W.interceptors.request.use(s=>{const e=localStorage.getItem("authToken");return e&&(s.headers.Authorization=`Bearer ${e}`),s},s=>Promise.reject(s));W.interceptors.response.use(s=>s,s=>{var e;return((e=s.response)==null?void 0:e.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(s)});const Nt={getStats:async()=>W.get("/dashboard/stats"),getAnalytics:async s=>W.get("/dashboard/analytics",{params:s}),getRecentActivity:async s=>W.get("/dashboard/recent-activity",{params:s})},Ve={getAll:async s=>W.get("/payments/monthly",{params:s}),getAnalytics:async()=>W.get("/payments/analytics"),getMonthly:async s=>W.get("/payments/monthly",{params:s}),settle:async s=>W.post("/payments/bulk-settlement",s)},ws={getTickets:async s=>W.get("/support/tickets",{params:s}),getStats:async()=>W.get("/support/stats")},An={getAll:async s=>W.get("/restaurants",{params:s})},On={getAll:async s=>W.get("/users",{params:s}),getById:async s=>W.get(`/users/${s}`),create:async s=>W.post("/users",s),update:async(s,e)=>W.put(`/users/${s}`,e),delete:async s=>W.delete(`/users/${s}`),getStats:async()=>W.get("/users/stats")},ue=Object.create(null);ue.open="0";ue.close="1";ue.ping="2";ue.pong="3";ue.message="4";ue.upgrade="5";ue.noop="6";const wt=Object.create(null);Object.keys(ue).forEach(s=>{wt[ue[s]]=s});const ks={type:"error",data:"parser error"},Tn=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Pn=typeof ArrayBuffer=="function",Fn=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,Us=({type:s,data:e},r,n)=>Tn&&e instanceof Blob?r?n(e):Cr(e,n):Pn&&(e instanceof ArrayBuffer||Fn(e))?r?n(e):Cr(new Blob([e]),n):n(ue[s]+(e||"")),Cr=(s,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(s)};function Rr(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let is;function Dl(s,e){if(Tn&&s.data instanceof Blob)return s.data.arrayBuffer().then(Rr).then(e);if(Pn&&(s.data instanceof ArrayBuffer||Fn(s.data)))return e(Rr(s.data));Us(s,!1,r=>{is||(is=new TextEncoder),e(is.encode(r))})}const _r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<_r.length;s++)We[_r.charCodeAt(s)]=s;const Ml=s=>{let e=s.length*.75,r=s.length,n,i=0,a,o,l,c;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=We[s.charCodeAt(n)],o=We[s.charCodeAt(n+1)],l=We[s.charCodeAt(n+2)],c=We[s.charCodeAt(n+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},ql=typeof ArrayBuffer=="function",Is=(s,e)=>{if(typeof s!="string")return{type:"message",data:Ln(s,e)};const r=s.charAt(0);return r==="b"?{type:"message",data:Bl(s.substring(1),e)}:wt[r]?s.length>1?{type:wt[r],data:s.substring(1)}:{type:wt[r]}:ks},Bl=(s,e)=>{if(ql){const r=Ml(s);return Ln(r,e)}else return{base64:!0,data:s}},Ln=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},Dn="",Ul=(s,e)=>{const r=s.length,n=new Array(r);let i=0;s.forEach((a,o)=>{Us(a,!1,l=>{n[o]=l,++i===r&&e(n.join(Dn))})})},Il=(s,e)=>{const r=s.split(Dn),n=[];for(let i=0;i<r.length;i++){const a=Is(r[i],e);if(n.push(a),a.type==="error")break}return n};function $l(){return new TransformStream({transform(s,e){Dl(s,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let as;function ut(s){return s.reduce((e,r)=>e+r.length,0)}function ht(s,e){if(s[0].length===e)return s.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),r}function zl(s,e){as||(as=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(ut(r)<1)break;const c=ht(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(ut(r)<2)break;const c=ht(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(ut(r)<8)break;const c=ht(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(ks);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(ut(r)<i)break;const c=ht(r,i);l.enqueue(Is(a?c:as.decode(c),e)),n=0}if(i===0||i>s){l.enqueue(ks);break}}}})}const Mn=4;function K(s){if(s)return Ql(s)}function Ql(s){for(var e in K.prototype)s[e]=K.prototype[e];return s}K.prototype.on=K.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};K.prototype.once=function(s,e){function r(){this.off(s,r),e.apply(this,arguments)}return r.fn=e,this.on(s,r),this};K.prototype.off=K.prototype.removeListener=K.prototype.removeAllListeners=K.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+s];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+s],this};K.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};K.prototype.emitReserved=K.prototype.emit;K.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};K.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Yt=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),re=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Hl="arraybuffer";function qn(s,...e){return e.reduce((r,n)=>(s.hasOwnProperty(n)&&(r[n]=s[n]),r),{})}const Kl=re.setTimeout,Vl=re.clearTimeout;function Zt(s,e){e.useNativeTimers?(s.setTimeoutFn=Kl.bind(re),s.clearTimeoutFn=Vl.bind(re)):(s.setTimeoutFn=re.setTimeout.bind(re),s.clearTimeoutFn=re.clearTimeout.bind(re))}const Wl=1.33;function Jl(s){return typeof s=="string"?Gl(s):Math.ceil((s.byteLength||s.size)*Wl)}function Gl(s){let e=0,r=0;for(let n=0,i=s.length;n<i;n++)e=s.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Bn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Xl(s){let e="";for(let r in s)s.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(s[r]));return e}function Yl(s){let e={},r=s.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class Zl extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class $s extends K{constructor(e){super(),this.writable=!1,Zt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new Zl(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Is(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Xl(e);return r.length?"?"+r:""}}class ec extends $s{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Il(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ul(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Bn()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let Un=!1;try{Un=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const tc=Un;function sc(){}class rc extends ec{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let Ue=class kt extends K{constructor(e,r,n){super(),this.createRequest=e,Zt(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=qn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=kt.requestsCount++,kt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=sc,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete kt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ue.requestsCount=0;Ue.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Er);else if(typeof addEventListener=="function"){const s="onpagehide"in re?"pagehide":"unload";addEventListener(s,Er,!1)}}function Er(){for(let s in Ue.requests)Ue.requests.hasOwnProperty(s)&&Ue.requests[s].abort()}const nc=function(){const s=In({xdomain:!1});return s&&s.responseType!==null}();class ic extends rc{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=nc&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ue(In,this.uri(),e)}}function In(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||tc))return new XMLHttpRequest}catch{}if(!e)try{return new re[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const $n=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ac extends $s{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=$n?{}:qn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;Us(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&Yt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Bn()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const os=re.WebSocket||re.MozWebSocket;class oc extends ac{createSocket(e,r,n){return $n?new os(e,r,n):r?new os(e,r):new os(e)}doWrite(e,r){this.ws.send(r)}}class lc extends $s{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=zl(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=$l();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&Yt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const cc={websocket:oc,webtransport:lc,polling:ic},dc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,uc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ss(s){if(s.length>8e3)throw"URI too long";const e=s,r=s.indexOf("["),n=s.indexOf("]");r!=-1&&n!=-1&&(s=s.substring(0,r)+s.substring(r,n).replace(/:/g,";")+s.substring(n,s.length));let i=dc.exec(s||""),a={},o=14;for(;o--;)a[uc[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=hc(a,a.path),a.queryKey=fc(a,a.query),a}function hc(s,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function fc(s,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const Cs=typeof addEventListener=="function"&&typeof removeEventListener=="function",St=[];Cs&&addEventListener("offline",()=>{St.forEach(s=>s())},!1);class ve extends K{constructor(e,r){if(super(),this.binaryType=Hl,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=Ss(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Ss(r.host).host);Zt(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Yl(this.opts.query)),Cs&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},St.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Mn,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ve.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ve.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Jl(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Yt(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ve.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Cs&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=St.indexOf(this._offlineEventListener);n!==-1&&St.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}ve.protocol=Mn;class mc extends ve{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;ve.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ve.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=r.name,a(),this.emitReserved("upgradeError",p)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){r&&h.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let pc=class extends mc{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>cc[i]).filter(i=>!!i)),super(e,n)}};function xc(s,e="",r){let n=s;r=r||typeof location<"u"&&location,s==null&&(s=r.protocol+"//"+r.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=r.protocol+s:s=r.host+s),/^(https?|wss?):\/\//.test(s)||(typeof r<"u"?s=r.protocol+"//"+s:s="https://"+s),n=Ss(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const yc=typeof ArrayBuffer=="function",gc=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,zn=Object.prototype.toString,bc=typeof Blob=="function"||typeof Blob<"u"&&zn.call(Blob)==="[object BlobConstructor]",vc=typeof File=="function"||typeof File<"u"&&zn.call(File)==="[object FileConstructor]";function zs(s){return yc&&(s instanceof ArrayBuffer||gc(s))||bc&&s instanceof Blob||vc&&s instanceof File}function Ct(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let r=0,n=s.length;r<n;r++)if(Ct(s[r]))return!0;return!1}if(zs(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Ct(s.toJSON(),!0);for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&Ct(s[r]))return!0;return!1}function jc(s){const e=[],r=s.data,n=s;return n.data=Rs(r,e),n.attachments=e.length,{packet:n,buffers:e}}function Rs(s,e){if(!s)return s;if(zs(s)){const r={_placeholder:!0,num:e.length};return e.push(s),r}else if(Array.isArray(s)){const r=new Array(s.length);for(let n=0;n<s.length;n++)r[n]=Rs(s[n],e);return r}else if(typeof s=="object"&&!(s instanceof Date)){const r={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=Rs(s[n],e));return r}return s}function Nc(s,e){return s.data=_s(s.data,e),delete s.attachments,s}function _s(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let r=0;r<s.length;r++)s[r]=_s(s[r],e);else if(typeof s=="object")for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(s[r]=_s(s[r],e));return s}const wc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],kc=5;var D;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(D||(D={}));class Sc{constructor(e){this.replacer=e}encode(e){return(e.type===D.EVENT||e.type===D.ACK)&&Ct(e)?this.encodeAsBinary({type:e.type===D.EVENT?D.BINARY_EVENT:D.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===D.BINARY_EVENT||e.type===D.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=jc(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function Ar(s){return Object.prototype.toString.call(s)==="[object Object]"}class Qs extends K{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===D.BINARY_EVENT;n||r.type===D.BINARY_ACK?(r.type=n?D.EVENT:D.ACK,this.reconstructor=new Cc(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(zs(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(D[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===D.BINARY_EVENT||n.type===D.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(Qs.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case D.CONNECT:return Ar(r);case D.DISCONNECT:return r===void 0;case D.CONNECT_ERROR:return typeof r=="string"||Ar(r);case D.EVENT:case D.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&wc.indexOf(r[0])===-1);case D.ACK:case D.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Cc{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Nc(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Rc=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Qs,Encoder:Sc,get PacketType(){return D},protocol:kc},Symbol.toStringTag,{value:"Module"}));function ae(s,e,r){return s.on(e,r),function(){s.off(e,r)}}const _c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Qn extends K{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ae(e,"open",this.onopen.bind(this)),ae(e,"packet",this.onpacket.bind(this)),ae(e,"error",this.onerror.bind(this)),ae(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,a;if(_c.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:D.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:D.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case D.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case D.EVENT:case D.BINARY_EVENT:this.onevent(e);break;case D.ACK:case D.BINARY_ACK:this.onack(e);break;case D.DISCONNECT:this.ondisconnect();break;case D.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:D.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:D.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function ze(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}ze.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*s);s=Math.floor(e*10)&1?s+r:s-r}return Math.min(s,this.max)|0};ze.prototype.reset=function(){this.attempts=0};ze.prototype.setMin=function(s){this.ms=s};ze.prototype.setMax=function(s){this.max=s};ze.prototype.setJitter=function(s){this.jitter=s};class Es extends K{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Zt(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ze({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||Rc;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new pc(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=ae(r,"open",function(){n.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=ae(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ae(e,"ping",this.onping.bind(this)),ae(e,"data",this.ondata.bind(this)),ae(e,"error",this.onerror.bind(this)),ae(e,"close",this.onclose.bind(this)),ae(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Yt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Qn(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ke={};function Rt(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const r=xc(s,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Ke[i]&&a in Ke[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new Es(n,e):(Ke[i]||(Ke[i]=new Es(n,e)),c=Ke[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Rt,{Manager:Es,Socket:Qn,io:Rt,connect:Rt});const Hn=g.createContext(void 0),Ec=()=>{const s=g.useContext(Hn);if(s===void 0)throw new Error("useRealtime must be used within a RealtimeProvider");return s},Ac=({children:s})=>{const[e,r]=g.useState(null),[n,i]=g.useState(!1),[a,o]=g.useState(null),[l,c]=g.useState(null),[u,d]=g.useState(null),[h,p]=g.useState(null),{user:x}=at(),y=()=>{const R=localStorage.getItem("token");if(!R){console.log("No auth token available, skipping socket connection");return}try{const b=Rt("https://finance-admin-be.onrender.com",{auth:{token:R},transports:["websocket","polling"]});b.on("connect",()=>{console.log(" Connected to real-time server"),i(!0)}),b.on("disconnect",()=>{console.log(" Disconnected from real-time server"),i(!1)}),b.on("connect_error",C=>{console.error(" Socket connection error:",C),i(!1)}),b.on("dashboard_data_update",C=>{console.log(" Dashboard data update received:",C),o(C)}),b.on("payments_update",C=>{console.log(" Payment update received:",C),c(C)}),b.on("payment_status_update",C=>{console.log(" Payment status update received:",C),c(S=>{var w;return{...S,pendingPayments:((w=S==null?void 0:S.pendingPayments)==null?void 0:w.filter(A=>A.id!==C.paymentId))||[],completedPayments:(S==null?void 0:S.completedPayments)||[]}})}),b.on("payment_refunded",C=>{console.log(" Payment refunded:",C)}),b.on("orders_update",C=>{console.log(" Order update received:",C),d(C)}),b.on("order_payment_completed",C=>{console.log(" Order payment completed:",C)}),b.on("support_tickets_update",C=>{console.log(" Support tickets update received:",C),p(C)}),b.on("new_message",C=>{console.log(" New message received:",C)}),b.on("ticket_updated",C=>{console.log(" Ticket updated:",C)}),b.on("ticket_assigned",C=>{console.log(" Ticket assigned:",C)}),b.on("user_typing",C=>{console.log(" User typing:",C)}),b.on("user_stopped_typing",C=>{console.log(" User stopped typing:",C)}),r(b)}catch(j){console.error(" Error creating socket connection:",j)}},v=()=>{e&&(e.disconnect(),r(null),i(!1))};g.useEffect(()=>(x?y():v(),()=>{v()}),[x]),g.useEffect(()=>()=>{v()},[]);const f={socket:e,isConnected:n,dashboardData:a,paymentsData:l,ordersData:u,supportData:h,connect:y,disconnect:v};return t.jsx(Hn.Provider,{value:f,children:s})},Oc=({data:s,chartType:e="line",height:r=300})=>{const n=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(c),i=c=>new Date(c).toLocaleDateString("en-IN",{day:"2-digit",month:"short"}),a=({active:c,payload:u,label:d})=>{var h,p,x,y;return c&&u&&u.length?t.jsxs("div",{className:"bg-white p-4 border border-gray-200 rounded-xl shadow-2xl backdrop-blur-sm",children:[t.jsx("div",{className:"border-b border-gray-100 pb-2 mb-3",children:t.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:i(d)})}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Orders:"}),t.jsx("span",{className:"font-semibold text-gray-900",children:((p=(h=u[0])==null?void 0:h.payload)==null?void 0:p.orderCount)||0})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Revenue:"}),t.jsx("span",{className:"font-semibold text-green-600",children:n(((x=u[0])==null?void 0:x.value)||0)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Commission:"}),t.jsx("span",{className:"font-semibold text-blue-600",children:n(((y=u[1])==null?void 0:y.value)||0)})]})]})]}):null},o=({payload:c})=>!c||c.length===0?null:t.jsx("div",{className:"flex items-center justify-center space-x-6 mt-4",children:c.map((u,d)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),t.jsx("span",{className:"text-sm text-gray-600 font-medium",children:u.value})]},`item-${d}`))});if(!s||s.length===0)return t.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:t.jsxs("div",{className:"text-center p-8",children:[t.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-10 h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Revenue Data"}),t.jsx("p",{className:"text-gray-500 mb-2",children:"Revenue trends will appear here"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Select a different time period or check back later"})]})});const l=()=>{const c={data:s,margin:{top:20,right:30,left:20,bottom:5},style:{fontSize:"12px"}};switch(e){case"area":return t.jsxs(Fr,{...c,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]}),t.jsxs("linearGradient",{id:"commissionGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})]}),t.jsx(Me,{strokeDasharray:"3 3",stroke:"#f0f0f0",strokeWidth:.5}),t.jsx(qe,{dataKey:"date",tickFormatter:i,stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(Be,{tickFormatter:n,stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(Se,{content:t.jsx(a,{})}),t.jsx(ft,{content:t.jsx(o,{})}),t.jsx(De,{type:"monotone",dataKey:"totalRevenue",stackId:"1",stroke:"#10b981",strokeWidth:3,fill:"url(#revenueGradient)",name:"Revenue",dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2}}),t.jsx(De,{type:"monotone",dataKey:"totalCommission",stackId:"2",stroke:"#3b82f6",strokeWidth:3,fill:"url(#commissionGradient)",name:"Commission",dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2}})]});case"bar":return t.jsxs(Pr,{...c,children:[t.jsx(Me,{strokeDasharray:"3 3",stroke:"#f0f0f0",strokeWidth:.5}),t.jsx(qe,{dataKey:"date",tickFormatter:i,stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(Be,{tickFormatter:n,stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(Se,{content:t.jsx(a,{})}),t.jsx(ft,{content:t.jsx(o,{})}),t.jsx(Le,{dataKey:"totalRevenue",fill:"#10b981",name:"Revenue",radius:[4,4,0,0]}),t.jsx(Le,{dataKey:"totalCommission",fill:"#3b82f6",name:"Commission",radius:[4,4,0,0]})]});default:return t.jsxs(Tr,{...c,children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.05})]}),t.jsxs("linearGradient",{id:"commissionGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),t.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.05})]})]}),t.jsx(Me,{strokeDasharray:"3 3",stroke:"#f0f0f0",strokeWidth:.5}),t.jsx(qe,{dataKey:"date",tickFormatter:i,stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(Be,{tickFormatter:n,stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(Se,{content:t.jsx(a,{})}),t.jsx(ft,{content:t.jsx(o,{})}),t.jsx(Fe,{type:"monotone",dataKey:"totalRevenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2},name:"Revenue"}),t.jsx(Fe,{type:"monotone",dataKey:"totalCommission",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2},name:"Commission"})]})}};return t.jsx("div",{className:"w-full h-full",children:t.jsx(As,{width:"100%",height:r,children:l()})})},Tc=()=>{const[s,e]=g.useState(!0),[r,n]=g.useState("7d"),[i,a]=g.useState("line"),[o,l]=g.useState(!1),{isConnected:c,dashboardData:u}=Ec(),{data:d,isLoading:h,refetch:p}=ge(["dashboard-stats"],Nt.getStats,{refetchInterval:3e4,staleTime:1e4}),{data:x,isLoading:y,refetch:v}=ge(["dashboard-analytics",r],()=>{const N=new Date;let T=new Date;switch(r){case"7d":T.setDate(N.getDate()-7);break;case"30d":T.setDate(N.getDate()-30);break;case"90d":T.setDate(N.getDate()-90);break}return Nt.getAnalytics({startDate:T.toISOString(),endDate:N.toISOString()})},{refetchInterval:6e4,staleTime:3e4}),{data:f,refetch:R}=ge(["dashboard-recent-activity"],()=>Nt.getRecentActivity({limit:10}),{refetchInterval:45e3,staleTime:15e3}),j=async()=>{l(!0);try{await Promise.all([p(),v(),R()])}finally{l(!1)}},b=()=>{var T,M;const N=((T=d==null?void 0:d.data)==null?void 0:T.stats)||{};return[{title:"Total Revenue",value:`${(((M=N.currentMonth)==null?void 0:M.revenue)||0).toLocaleString()}`,change:12.5,changeType:"positive",icon:jt,color:"text-green-500",gradient:"from-green-500 to-emerald-500",description:"This month"},{title:"Active Restaurants",value:(N.totalRestaurants||0).toString(),change:8.2,changeType:"positive",icon:ke,color:"text-blue-500",gradient:"from-blue-500 to-indigo-500",description:"Currently active"},{title:"Total Orders",value:(N.totalOrders||0).toLocaleString(),change:-3.1,changeType:"negative",icon:kr,color:"text-purple-500",gradient:"from-purple-500 to-pink-500",description:"All time"},{title:"Support Tickets",value:(N.totalSupportTickets||0).toString(),change:-15.4,changeType:"positive",icon:Re,color:"text-orange-500",gradient:"from-orange-500 to-red-500",description:"Open tickets"}]},C=()=>{var T,M,U,se,J,Y;const N=[];return(M=(T=f==null?void 0:f.data)==null?void 0:T.recentActivity)!=null&&M.orders&&f.data.recentActivity.orders.slice(0,3).forEach(Q=>{var ne;N.push({id:Q.id,type:"order",title:"New Order",description:`Order #${Q.orderNumber||Q.id} from ${((ne=Q.restaurant)==null?void 0:ne.name)||"Restaurant"}`,time:"Just now",status:"pending",amount:Q.total})}),(se=(U=f==null?void 0:f.data)==null?void 0:U.recentActivity)!=null&&se.payments&&f.data.recentActivity.payments.slice(0,2).forEach(Q=>{N.push({id:Q.id,type:"payment",title:"Payment Completed",description:`Payment for order #${Q.orderNumber||"N/A"}`,time:"Recently",status:"completed",amount:Q.amount})}),(Y=(J=f==null?void 0:f.data)==null?void 0:J.recentActivity)!=null&&Y.tickets&&f.data.recentActivity.tickets.slice(0,2).forEach(Q=>{N.push({id:Q.id,type:"support",title:"Support Ticket",description:`New ticket from ${Q.requesterName||"User"}`,time:"Recently",status:"pending"})}),N.slice(0,5)},S=()=>{var N,T;return(T=(N=x==null?void 0:x.data)==null?void 0:N.analytics)!=null&&T.topRestaurants?x.data.analytics.topRestaurants.map(M=>{var U;return{name:((U=M.restaurant)==null?void 0:U.name)||"Unknown Restaurant",orders:M.orderCount||0,revenue:M.totalRevenue||0,rating:4.5}}):[]},w=()=>{var N,T;return(T=(N=x==null?void 0:x.data)==null?void 0:N.analytics)!=null&&T.revenueByDay?x.data.analytics.revenueByDay.map(M=>({date:M.date,orderCount:M.orderCount||0,totalRevenue:M.totalRevenue||0,totalCommission:M.totalCommission||0})):[]},A=b(),$=C(),_=S(),F=w();g.useEffect(()=>{const N=setTimeout(()=>e(!1),1e3);return()=>clearTimeout(N)},[]);const z=N=>{switch(N){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=N=>{switch(N){case"payment":return t.jsx(Ee,{className:"w-5 h-5"});case"order":return t.jsx(kr,{className:"w-5 h-5"});case"support":return t.jsx(Re,{className:"w-5 h-5"});case"restaurant":return t.jsx(ke,{className:"w-5 h-5"});default:return t.jsx(Nr,{className:"w-5 h-5"})}};return s||h?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"skeleton h-8 w-48"}),t.jsx("div",{className:"skeleton h-4 w-96"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((N,T)=>t.jsxs("div",{className:"stat-card animate-pulse",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"skeleton h-4 w-24"}),t.jsx("div",{className:"skeleton w-12 h-12 rounded-xl"})]}),t.jsx("div",{className:"skeleton h-10 w-32 mb-2"}),t.jsx("div",{className:"skeleton h-4 w-40"})]},T))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 card",children:[t.jsx("div",{className:"card-header",children:t.jsx("div",{className:"skeleton h-6 w-32"})}),t.jsx("div",{className:"card-body",children:t.jsx("div",{className:"skeleton h-64 w-full"})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("div",{className:"skeleton h-6 w-24"})}),t.jsx("div",{className:"card-body space-y-3",children:[...Array(3)].map((N,T)=>t.jsx("div",{className:"skeleton h-16 w-full"},T))})]})]})]}):t.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening today."}),t.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[t.jsx("div",{className:"flex items-center space-x-2",children:c?t.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[t.jsx(Ol,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Live Data"})]}):t.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[t.jsx(Al,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Offline"})]})}),(u==null?void 0:u.timestamp)&&t.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[t.jsx(hl,{className:"w-4 h-4"}),t.jsxs("span",{className:"text-xs",children:["Last updated: ",new Date(u.timestamp).toLocaleTimeString()]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:j,disabled:o,className:"p-2 rounded-xl bg-gray-100 hover:bg-gray-200 transition-colors disabled:opacity-50",title:"Refresh Data",children:t.jsx(qt,{className:`w-5 h-5 text-gray-600 ${o?"animate-spin":""}`})}),t.jsx("div",{className:"flex items-center space-x-1 bg-white rounded-xl p-1 shadow-sm border border-gray-200",children:["7d","30d","90d"].map(N=>t.jsx("button",{onClick:()=>n(N),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${r===N?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:N==="7d"?"7 Days":N==="30d"?"30 Days":"90 Days"},N))})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:A.map((N,T)=>{const M=N.icon;return t.jsxs("div",{className:"stat-card group hover:shadow-lg transition-all duration-300",children:[t.jsxs("div",{className:"stat-card-header",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"stat-card-title",children:N.title}),N.description&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:N.description})]}),t.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${N.gradient} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.jsx(M,{className:"w-6 h-6 text-white"})})]}),t.jsx("div",{className:"stat-card-value",children:N.value}),t.jsxs("div",{className:`stat-card-change ${N.changeType==="positive"?"positive":"negative"}`,children:[N.changeType==="positive"?t.jsx(me,{className:"w-4 h-4 mr-1"}):t.jsx(Bs,{className:"w-4 h-4 mr-1"}),t.jsxs("span",{children:[Math.abs(N.change),"%"]}),t.jsx("span",{className:"text-gray-500 ml-1",children:"from last period"})]})]},T)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Overview"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:["line","area","bar"].map(N=>t.jsxs("button",{onClick:()=>a(N),className:`p-2 rounded-md text-sm font-medium transition-all duration-200 ${i===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[N==="line"&&t.jsx(be,{className:"w-4 h-4"}),N==="area"&&t.jsx(be,{className:"w-4 h-4"}),N==="bar"&&t.jsx(be,{className:"w-4 h-4"})]},N))}),t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t.jsx(Ae,{className:"w-4 h-4 text-gray-600"})}),t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t.jsx(Gt,{className:"w-4 h-4 text-gray-600"})})]})]})}),t.jsx("div",{className:"card-body",children:y?t.jsx("div",{className:"h-64 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsx(Oc,{data:F,chartType:i,height:256})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),t.jsxs("div",{className:"card-body space-y-3",children:[t.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 transition-all duration-200 hover:scale-105",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:t.jsx(Ee,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:"Process Payments"})]}),t.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 transition-all duration-200 hover:scale-105",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:t.jsx(ke,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:"Add Restaurant"})]}),t.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 rounded-lg bg-gradient-to-r from-purple-50 to-pink-50 hover:from-purple-100 hover:to-pink-100 transition-all duration-200 hover:scale-105",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:t.jsx(Re,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:"View Support"})]}),t.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 rounded-lg bg-gradient-to-r from-orange-50 to-red-50 hover:from-orange-100 hover:to-red-100 transition-all duration-200 hover:scale-105",children:[t.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx(Xt,{className:"w-5 h-5 text-white"})}),t.jsx("span",{className:"font-medium text-gray-900",children:"Manage Users"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]})}),t.jsx("div",{className:"card-body",children:t.jsx("div",{className:"space-y-4",children:$.length>0?$.map(N=>t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:B(N.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(N.status)}`,children:N.status})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),t.jsx("div",{className:"flex items-center justify-between mt-2",children:t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(Ye,{className:"w-3 h-3 mr-1"}),N.time]}),N.amount&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(jt,{className:"w-3 h-3 mr-1"}),"",N.amount.toLocaleString()]})]})})]})]},N.id)):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Nr,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),t.jsx("p",{children:"No recent activity"}),t.jsx("p",{className:"text-sm",children:"Activity will appear here in real-time"})]})})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Restaurants"}),t.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]})}),t.jsx("div",{className:"card-body",children:t.jsx("div",{className:"space-y-4",children:_.length>0?_.map((N,T)=>t.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:T+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.name}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(wl,{className:"w-3 h-3 mr-1"}),N.orders," orders"]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(jt,{className:"w-3 h-3 mr-1"}),"",N.revenue.toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[t.jsx(Rl,{className:"w-4 h-4 text-yellow-400 fill-current"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.rating})]})]},N.name)):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(ke,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),t.jsx("p",{children:"No restaurant data"}),t.jsx("p",{className:"text-sm",children:"Restaurant data will appear here in real-time"})]})})})]})]})]})},Pc=()=>{const[s,e]=g.useState([]),[r,n]=g.useState([]),[i,a]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d]=g.useState("all"),[h,p]=g.useState(1),[x,y]=g.useState(1),[v]=g.useState(10);g.useEffect(()=>{f()},[h]);const f=async()=>{var w;try{a(!0);const A=await An.getAll({page:h,limit:v,status:c==="all"?void 0:c,category:d==="all"?void 0:d});e(A.data.restaurants||[]),n(A.data.restaurants||[]),y(((w=A.data.pagination)==null?void 0:w.totalPages)||1)}catch(A){console.error("Error fetching restaurants:",A),e([]),n([])}finally{a(!1)}};g.useEffect(()=>{let w=s;o&&(w=w.filter(A=>A.restaurant_name.toLowerCase().includes(o.toLowerCase())||A.email_address&&A.email_address.toLowerCase().includes(o.toLowerCase())||A.city&&A.city.toLowerCase().includes(o.toLowerCase()))),c!=="all"&&(w=w.filter(A=>A.approve_status===c)),d!=="all"&&(w=w.filter(A=>{var $;return($=A.category_id)==null?void 0:$.includes(d)})),n(w)},[s,o,c,d]);const R=w=>{l(w.target.value)},j=w=>{u(w)},b=w=>{p(w)},C=w=>w==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",S=w=>w>=4.5?"text-green-600":w>=4?"text-yellow-600":"text-red-600";return i?t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((w,A)=>t.jsx("div",{className:"h-20 bg-gray-200 rounded"},A))})]})}):t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Restaurants"}),t.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(qs,{size:20}),"Add Restaurant"]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search restaurants, owners, or cities...",value:o,onChange:R,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>j("all"),className:`px-4 py-2 rounded-lg border ${c==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"All"}),t.jsx("button",{onClick:()=>j("active"),className:`px-4 py-2 rounded-lg border ${c==="active"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Active"}),t.jsx("button",{onClick:()=>j("inactive"),className:`px-4 py-2 rounded-lg border ${c==="inactive"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Inactive"})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:r.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"text-gray-500 text-lg mb-2",children:"No restaurants found"}),t.jsx("div",{className:"text-gray-400",children:"Try adjusting your search or filters"})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restaurant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(w=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.restaurant_name}),t.jsx("div",{className:"text-sm text-gray-500",children:w.category_id||"Unknown"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.email_address||"Unknown Owner"}),t.jsx("div",{className:"text-sm text-gray-500",children:w.email_address})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm text-gray-900",children:[w.city,", ",w.state]}),t.jsx("div",{className:"text-sm text-gray-500",children:w.pincode})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(w.approve_status)}`,children:w.approve_status})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:`text-sm font-medium ${S(w.updated_rating)}`,children:[" ",w.updated_rating||0]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm text-gray-900",children:[w.admin_commission||"0","%"]}),w.stats&&t.jsxs("div",{className:"text-xs text-gray-500",children:[w.stats.orderCount," orders"]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:t.jsx(Ae,{size:16})}),t.jsx("button",{className:"text-green-600 hover:text-green-900",children:t.jsx(Ms,{size:16})}),t.jsx("button",{className:"text-red-600 hover:text-red-900",children:t.jsx(En,{size:16})}),t.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:t.jsx(Cn,{size:16})})]})})]},w.id))})]})})}),x>1&&t.jsx("div",{className:"mt-6 flex justify-center",children:t.jsxs("nav",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>b(h-1),disabled:h===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(x)].map((w,A)=>{const $=A+1;return t.jsx("button",{onClick:()=>b($),className:`px-3 py-2 text-sm font-medium rounded-lg border ${h===$?"bg-blue-600 text-white border-blue-600":"text-gray-500 bg-white border-gray-300 hover:bg-gray-50"}`,children:$},$)}),t.jsx("button",{onClick:()=>b(h+1),disabled:h===x,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})},Fc=({data:s,chartType:e="line",height:r=300})=>{const n=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),i=l=>new Date(l).toLocaleDateString("en-IN",{day:"2-digit",month:"short"}),a=({active:l,payload:c,label:u})=>l&&c&&c.length?t.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[t.jsx("p",{className:"font-medium text-gray-900",children:i(u)}),t.jsx("div",{className:"space-y-1",children:c.map((d,h)=>t.jsxs("p",{className:"text-sm",style:{color:d.color},children:[d.name,": ",t.jsx("span",{className:"font-medium",children:n(d.value)})]},h))})]}):null;if(!s||s.length===0)return t.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),t.jsx("p",{className:"text-gray-600",children:"No payment trends data available"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Payment trends will appear here"})]})});const o=()=>{const l={data:s,margin:{top:20,right:30,left:20,bottom:5}};switch(e){case"area":return t.jsxs(Fr,{...l,children:[t.jsx(Me,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),t.jsx(qe,{dataKey:"date",tickFormatter:i,stroke:"#6b7280",fontSize:12}),t.jsx(Be,{tickFormatter:n,stroke:"#6b7280",fontSize:12}),t.jsx(Se,{content:t.jsx(a,{})}),t.jsx(De,{type:"monotone",dataKey:"pending",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3,name:"Pending"}),t.jsx(De,{type:"monotone",dataKey:"processing",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"Processing"}),t.jsx(De,{type:"monotone",dataKey:"completed",stackId:"3",stroke:"#10b981",fill:"#10b981",fillOpacity:.3,name:"Completed"}),t.jsx(De,{type:"monotone",dataKey:"failed",stackId:"4",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.3,name:"Failed"})]});case"bar":return t.jsxs(Pr,{...l,children:[t.jsx(Me,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),t.jsx(qe,{dataKey:"date",tickFormatter:i,stroke:"#6b7280",fontSize:12}),t.jsx(Be,{tickFormatter:n,stroke:"#6b7280",fontSize:12}),t.jsx(Se,{content:t.jsx(a,{})}),t.jsx(Le,{dataKey:"pending",fill:"#f59e0b",name:"Pending"}),t.jsx(Le,{dataKey:"processing",fill:"#3b82f6",name:"Processing"}),t.jsx(Le,{dataKey:"completed",fill:"#10b981",name:"Completed"}),t.jsx(Le,{dataKey:"failed",fill:"#ef4444",name:"Failed"})]});default:return t.jsxs(Tr,{...l,children:[t.jsx(Me,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),t.jsx(qe,{dataKey:"date",tickFormatter:i,stroke:"#6b7280",fontSize:12}),t.jsx(Be,{tickFormatter:n,stroke:"#6b7280",fontSize:12}),t.jsx(Se,{content:t.jsx(a,{})}),t.jsx(Fe,{type:"monotone",dataKey:"pending",stroke:"#f59e0b",strokeWidth:3,dot:{fill:"#f59e0b",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#f59e0b",strokeWidth:2},name:"Pending"}),t.jsx(Fe,{type:"monotone",dataKey:"processing",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3b82f6",strokeWidth:2},name:"Processing"}),t.jsx(Fe,{type:"monotone",dataKey:"completed",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10b981",strokeWidth:2},name:"Completed"}),t.jsx(Fe,{type:"monotone",dataKey:"failed",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#ef4444",strokeWidth:2},name:"Failed"})]})}};return t.jsx("div",{className:"w-full h-full",children:t.jsx(As,{width:"100%",height:r,children:o()})})},Lc=({data:s,height:e=300})=>{const r=["#10b981","#f59e0b","#ef4444","#6b7280","#3b82f6"],n={completed:"Completed",pending:"Pending",processing:"Processing",failed:"Failed",cancelled:"Cancelled"},i=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),a=({active:u,payload:d})=>{if(u&&d&&d.length){const h=d[0].payload;return t.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[t.jsx("p",{className:"font-medium text-gray-900",children:n[h.status]||h.status}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Count: ",t.jsx("span",{className:"font-medium",children:h.count})]}),t.jsxs("p",{className:"text-sm text-green-600",children:["Amount: ",t.jsx("span",{className:"font-medium",children:i(h.amount)})]}),t.jsxs("p",{className:"text-sm text-blue-600",children:["Percentage: ",t.jsxs("span",{className:"font-medium",children:[(h.count/h.reduce((p,x)=>p+x.count,0)*100).toFixed(1),"%"]})]})]})]})}return null},o=({payload:u})=>t.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:u==null?void 0:u.map((d,h)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d.color}}),t.jsx("span",{className:"text-sm text-gray-600",children:n[d.value]||d.value})]},`legend-${h}`))});if(!s||s.length===0)return t.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),t.jsx("p",{className:"text-gray-600",children:"No payment data available"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Payment distribution will appear here"})]})});const l=s.reduce((u,d)=>u+d.count,0),c=s.reduce((u,d)=>u+d.amount,0);return t.jsxs("div",{className:"w-full h-full",children:[t.jsx(As,{width:"100%",height:e,children:t.jsxs(ri,{children:[t.jsx(ni,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({status:u,count:d})=>`${n[u]||u}: ${d}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:s.map((u,d)=>t.jsx(ii,{fill:r[d%r.length]},`cell-${d}`))}),t.jsx(Se,{content:t.jsx(a,{})}),t.jsx(ft,{content:t.jsx(o,{})})]})}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-center",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),t.jsx("p",{className:"text-lg font-semibold text-green-600",children:i(c)})]})]})]})},Dc=()=>{var Hs,Ks,Vs,Ws,Js,Gs,Xs;const[s,e]=g.useState([]),[r,n]=g.useState(""),[i,a]=g.useState("all"),[o,l]=g.useState("all"),[c,u]=g.useState(2025),[d,h]=g.useState([]),[p,x]=g.useState(!1),[y,v]=g.useState(!1),[f,R]=g.useState(1),[j]=g.useState(10),[b,C]=g.useState("line"),{data:S,isLoading:w,error:A}=ge(["payments",f,i,o,c],()=>Ve.getAll({page:f,limit:j,month:o!=="all"?parseInt(o):void 0,year:c,status:i!=="all"?i:void 0}),{refetchInterval:3e4,staleTime:15e3}),{isLoading:$}=ge(["payments-analytics"],Ve.getAnalytics,{refetchInterval:6e4,staleTime:3e4}),{data:_,isLoading:F}=ge(["payments-monthly",o,c],()=>Ve.getMonthly({month:o!=="all"?parseInt(o):void 0,year:c}),{refetchInterval:45e3,staleTime:2e4});let z=null;(Vs=(Ks=(Hs=S==null?void 0:S.data)==null?void 0:Hs.data)==null?void 0:Ks.monthlyReport)!=null&&Vs.restaurants?z=S.data.data.monthlyReport.restaurants:(Js=(Ws=S==null?void 0:S.data)==null?void 0:Ws.monthlyReport)!=null&&Js.restaurants?z=S.data.monthlyReport.restaurants:Array.isArray((Gs=S==null?void 0:S.data)==null?void 0:Gs.data)?z=S.data.data:Array.isArray(S==null?void 0:S.data)&&(z=S.data);const B=(z==null?void 0:z.map(k=>{const P=k.monthlyData||k;return{id:P.id,restaurantName:P.restaurantName,restaurantId:P.restaurantId,month:P.month,year:P.year,totalOrders:P.totalOrders,totalAmount:P.totalAmount,commission:P.commission,netAmount:P.netAmount,status:P.status,dueDate:P.dueDate,processedDate:P.processedDate,paymentMethod:P.paymentMethod,transactionId:P.transactionId}}))||[],N=Math.ceil(B.length/j);g.useEffect(()=>{let k=B.filter(P=>{const ie=P.restaurantName.toLowerCase().includes(r.toLowerCase()),he=i==="all"||P.status===i,Te=o==="all"||P.month===parseInt(o),Pe=P.year===c;return ie&&he&&Te&&Pe});e(k),R(1)},[B,r,i,o,c]);const T=(f-1)*j,M=T+j,U=s.slice(T,M),se=()=>{var P,ie;if(!((ie=(P=_==null?void 0:_.data)==null?void 0:P.monthlyReport)!=null&&ie.restaurants))return[];const k=new Map;return _.data.monthlyReport.restaurants.forEach(he=>{const Te=`${he.monthlyData.month}/${he.monthlyData.year}`;k.has(Te)||k.set(Te,{date:Te,pending:0,processing:0,completed:0,failed:0});const Pe=k.get(Te),lt=he.monthlyData.paymentStatus,ct=he.monthlyData.restaurantAmount||0;lt==="pending"?Pe.pending+=ct:lt==="processing"?Pe.processing+=ct:lt==="completed"?Pe.completed+=ct:lt==="failed"&&(Pe.failed+=ct)}),Array.from(k.values())},J=()=>{if(!B.length)return[];const k=new Map;return B.forEach(P=>{const ie=P.status;k.has(ie)||k.set(ie,{status:ie,count:0,amount:0});const he=k.get(ie);he.count+=1,he.amount+=P.netAmount||0}),Array.from(k.values())},Y=k=>{switch(k){case"completed":return t.jsx("span",{className:"badge badge-success",children:"Completed"});case"processing":return t.jsx("span",{className:"badge badge-warning",children:"Processing"});case"pending":return t.jsx("span",{className:"badge badge-gray",children:"Pending"});case"failed":return t.jsx("span",{className:"badge badge-danger",children:"Failed"});default:return t.jsx("span",{className:"badge badge-gray",children:k})}},Q=k=>{switch(k){case"completed":return t.jsx(Mt,{className:"w-5 h-5 text-green-500"});case"processing":return t.jsx(qt,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"pending":return t.jsx(Ye,{className:"w-5 h-5 text-gray-500"});case"failed":return t.jsx(js,{className:"w-5 h-5 text-red-500"});default:return t.jsx(Xe,{className:"w-5 h-5 text-gray-500"})}},ne=k=>{h(P=>P.includes(k)?P.filter(ie=>ie!==k):[...P,k])},L=()=>{d.length===U.length?h([]):h(U.map(k=>k.id))},Oe=async()=>{if(d.length!==0){v(!0);try{await Ve.settle({month:parseInt(o)||new Date().getMonth()+1,year:c,restaurantIds:d}),h([]),x(!1)}catch(k){console.error("Bulk settlement failed:",k)}finally{v(!1)}}},es=B.filter(k=>k.status==="pending").reduce((k,P)=>k+(P.netAmount||0),0),Kn=B.filter(k=>k.status==="completed").reduce((k,P)=>k+(P.netAmount||0),0),Vn=B.reduce((k,P)=>k+(P.commission||0),0),Wn=se(),Jn=J();return t.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payments"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage restaurant settlements and bulk payments"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{className:"btn btn-secondary",children:[t.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Export"]}),t.jsxs("button",{className:"btn btn-primary",onClick:()=>x(!0),disabled:d.length===0,children:[t.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Bulk Settlement"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-card-header",children:[t.jsx("span",{className:"stat-card-title",children:"Pending Amount"}),t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ye,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{className:"stat-card-value",children:["",es.toFixed(2)]}),t.jsxs("div",{className:"stat-card-change negative",children:[t.jsx(Bs,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:B.filter(k=>k.status==="pending").length}),t.jsx("span",{className:"text-gray-500 ml-1",children:"restaurants pending"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-card-header",children:[t.jsx("span",{className:"stat-card-title",children:"Completed Amount"}),t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Mt,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{className:"stat-card-value",children:["",Kn.toFixed(2)]}),t.jsxs("div",{className:"stat-card-change positive",children:[t.jsx(me,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:B.filter(k=>k.status==="completed").length}),t.jsx("span",{className:"text-gray-500 ml-1",children:"settlements completed"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-card-header",children:[t.jsx("span",{className:"stat-card-title",children:"Total Commission"}),t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(jt,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{className:"stat-card-value",children:["",Vn.toFixed(2)]}),t.jsxs("div",{className:"stat-card-change positive",children:[t.jsx(me,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:"+18%"}),t.jsx("span",{className:"text-gray-500 ml-1",children:"this month"})]})]}),t.jsxs("div",{className:"stat-card",children:[t.jsxs("div",{className:"stat-card-header",children:[t.jsx("span",{className:"stat-card-title",children:"Success Rate"}),t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(El,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{className:"stat-card-value",children:[B.length>0?Math.round(B.filter(k=>k.status==="completed").length/B.length*100):0,"%"]}),t.jsxs("div",{className:"stat-card-change positive",children:[t.jsx(me,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:"+5%"}),t.jsx("span",{className:"text-gray-500 ml-1",children:"vs last month"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Trends"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:`p-2 rounded-lg transition-colors ${b==="bar"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,onClick:()=>C("bar"),children:t.jsx(be,{className:"w-4 h-4"})}),t.jsx("button",{className:`p-2 rounded-lg transition-colors ${b==="line"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,onClick:()=>C("line"),children:t.jsx(gl,{className:"w-4 h-4"})}),t.jsx("button",{className:`p-2 rounded-lg transition-colors ${b==="area"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,onClick:()=>C("area"),children:t.jsx(be,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"card-body",children:F?t.jsx("div",{className:"h-64 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsx(Fc,{data:Wn,chartType:b,height:256})})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Distribution"}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t.jsx(Sl,{className:"w-4 h-4 text-gray-600"})})})]}),t.jsx("div",{className:"card-body",children:$?t.jsx("div",{className:"h-64 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):t.jsx(Lc,{data:Jn,height:256})})]})]}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search restaurants...",value:r,onChange:k=>n(k.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("select",{value:o,onChange:k=>l(k.target.value),className:"form-select",children:[t.jsx("option",{value:"all",children:"All Months"}),t.jsx("option",{value:"1",children:"January"}),t.jsx("option",{value:"2",children:"February"}),t.jsx("option",{value:"3",children:"March"}),t.jsx("option",{value:"4",children:"April"}),t.jsx("option",{value:"5",children:"May"}),t.jsx("option",{value:"6",children:"June"}),t.jsx("option",{value:"7",children:"July"}),t.jsx("option",{value:"8",children:"August"}),t.jsx("option",{value:"9",children:"September"}),t.jsx("option",{value:"10",children:"October"}),t.jsx("option",{value:"11",children:"November"}),t.jsx("option",{value:"12",children:"December"})]}),t.jsxs("select",{value:c,onChange:k=>u(Number(k.target.value)),className:"form-select",children:[t.jsx("option",{value:2023,children:"2023"}),t.jsx("option",{value:2024,children:"2024"}),t.jsx("option",{value:2025,children:"2025"})]}),t.jsxs("select",{value:i,onChange:k=>a(k.target.value),className:"form-select",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"processing",children:"Processing"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"failed",children:"Failed"})]})]})]})})}),t.jsx("div",{className:"table-container",children:A?t.jsx("div",{className:"text-center py-12",children:t.jsxs("div",{className:"text-red-600 mb-4",children:[t.jsx(Xe,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Payments"}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:((Xs=A==null?void 0:A.response)==null?void 0:Xs.status)===401?"Authentication required. Please log in again.":(A==null?void 0:A.message)||"Failed to load payments data"})]})}):w?t.jsx("div",{className:"text-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"w-12",children:t.jsx("input",{type:"checkbox",checked:d.length===U.length&&U.length>0,onChange:L,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),t.jsx("th",{children:"Restaurant"}),t.jsx("th",{children:"Period"}),t.jsx("th",{children:"Orders"}),t.jsx("th",{children:"Total Amount"}),t.jsx("th",{children:"Commission"}),t.jsx("th",{children:"Net Amount"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:U.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"text-center py-8 text-gray-500",children:s.length===0?"No payments found matching your filters":"No payments to display on this page"})}):U.map(k=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",checked:d.includes(k.id),onChange:()=>ne(k.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:k.restaurantName.charAt(0)})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.restaurantName}),t.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",k.restaurantId]})]})]})}),t.jsx("td",{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.month}),t.jsx("p",{className:"text-sm text-gray-500",children:k.year})]})}),t.jsx("td",{children:t.jsx("span",{className:"text-sm font-medium",children:k.totalOrders.toLocaleString()})}),t.jsx("td",{children:t.jsxs("span",{className:"text-sm font-medium",children:["",k.totalAmount.toFixed(2)]})}),t.jsx("td",{children:t.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["",k.commission.toFixed(2)]})}),t.jsx("td",{children:t.jsxs("span",{className:"text-sm font-medium text-green-600",children:["",k.netAmount.toFixed(2)]})}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[Q(k.status),Y(k.status)]})}),t.jsx("td",{children:t.jsx("span",{className:"text-sm text-gray-500",children:k.dueDate})}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(Ae,{className:"w-4 h-4"})}),k.status==="pending"&&t.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Process Payment",children:t.jsx(wr,{className:"w-4 h-4"})})]})})]},k.id))})]})}),N>1&&t.jsxs("div",{className:"pagination",children:[t.jsxs("div",{className:"pagination-info",children:["Showing ",T+1," to ",Math.min(M,s.length)," of ",s.length," results"]}),t.jsxs("div",{className:"pagination-controls",children:[t.jsx("button",{onClick:()=>R(f-1),disabled:f===1,className:"pagination-btn",children:"Previous"}),[...Array(N)].map((k,P)=>t.jsx("button",{onClick:()=>R(P+1),className:`pagination-btn ${f===P+1?"active":""}`,children:P+1},P+1)),t.jsx("button",{onClick:()=>R(f+1),disabled:f===N,className:"pagination-btn",children:"Next"})]})]}),p&&t.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:t.jsxs("div",{className:"modal max-w-md",onClick:k=>k.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{className:"modal-title",children:"Bulk Settlement"}),t.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Sr,{className:"w-8 h-8 text-white"})}),t.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Process ",d.length," Payments"]}),t.jsxs("p",{className:"text-gray-600 mb-4",children:["This will initiate settlement for ",d.length," selected restaurants using Razorpay X."]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-blue-800",children:[t.jsx(_n,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Secure Processing"})]}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"All payments are processed securely through Razorpay X with real-time tracking."})]})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>x(!1),disabled:y,children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:Oe,disabled:y,children:y?t.jsxs(t.Fragment,{children:[t.jsx(qt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(wr,{className:"w-4 h-4 mr-2"}),"Process Payments"]})})]})]})})]})},Mc=()=>{var _,F,z,B,N,T,M,U,se,J,Y,Q,ne;const[s,e]=g.useState(1),[r,n]=g.useState(""),[i,a]=g.useState(""),[o,l]=g.useState(""),[c,u]=g.useState(""),[d,h]=g.useState(null),[p,x]=g.useState(!1),[y,v]=g.useState(!1),{data:f,isLoading:R}=ge(["support-tickets",s,r,i,o,c],()=>ws.getTickets({page:s,limit:10,search:r,status:i,priority:o,category:c})),{data:j}=ge("support-stats",ws.getStats),b=L=>{h(L),x(!0)},C=((_=f==null?void 0:f.data)==null?void 0:_.tickets)||[],S=(F=f==null?void 0:f.data)==null?void 0:F.pagination,w=L=>{const Oe={open:"badge-warning",in_progress:"badge-info",resolved:"badge-success",closed:"badge-gray"};return t.jsx("span",{className:`badge ${Oe[L]}`,children:L})},A=L=>{const Oe={low:"badge-info",medium:"badge-warning",high:"badge-danger",urgent:"badge-danger"};return t.jsx("span",{className:`badge ${Oe[L]}`,children:L})},$=L=>{const es={technical:Xe,billing:Mt,general:He,support:Bt}[L]||He;return t.jsx(es,{className:"h-4 w-4"})};return t.jsxs("div",{className:"p-6 space-y-6 animate-fade-in",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(He,{className:"h-6 w-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Support Tickets"}),t.jsx("p",{className:"text-gray-600",children:"Manage customer support requests and provide assistance"})]})]})}),t.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 hover:shadow-md transform hover:-translate-y-0.5",onClick:()=>v(!0),children:[t.jsx(qs,{className:"h-4 w-4 mr-2"}),"New Ticket"]})]})}),j&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tickets"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((B=(z=j.data)==null?void 0:z.stats)==null?void 0:B.total)||0})]}),t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:t.jsx(He,{className:"h-6 w-6 text-blue-600"})})]})})}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Open"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:((M=(T=(N=j.data)==null?void 0:N.stats)==null?void 0:T.byStatus)==null?void 0:M.open)||0})]}),t.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:t.jsx(Xe,{className:"h-6 w-6 text-yellow-600"})})]})})}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((J=(se=(U=j.data)==null?void 0:U.stats)==null?void 0:se.byStatus)==null?void 0:J.inProgress)||0})]}),t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:t.jsx(Ye,{className:"h-6 w-6 text-blue-600"})})]})})}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:((ne=(Q=(Y=j.data)==null?void 0:Y.stats)==null?void 0:Q.byStatus)==null?void 0:ne.resolved)||0})]}),t.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:t.jsx(Mt,{className:"h-6 w-6 text-green-600"})})]})})})]}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search tickets...",value:r,onChange:L=>n(L.target.value),className:"form-input pl-10"})]}),t.jsxs("select",{value:i,onChange:L=>a(L.target.value),className:"form-select",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsxs("select",{value:o,onChange:L=>l(L.target.value),className:"form-select",children:[t.jsx("option",{value:"",children:"All Priorities"}),t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]}),t.jsxs("select",{value:c,onChange:L=>u(L.target.value),className:"form-select",children:[t.jsx("option",{value:"",children:"All Categories"}),t.jsx("option",{value:"technical",children:"Technical"}),t.jsx("option",{value:"billing",children:"Billing"}),t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"support",children:"Support"})]})]})})}),t.jsx("div",{className:"card",children:t.jsx("div",{className:"card-body p-0",children:R?t.jsx("div",{className:"text-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{className:"table-header",children:t.jsxs("tr",{children:[t.jsx("th",{className:"table-header-cell",children:"Ticket"}),t.jsx("th",{className:"table-header-cell",children:"Requester"}),t.jsx("th",{className:"table-header-cell",children:"Category"}),t.jsx("th",{className:"table-header-cell",children:"Priority"}),t.jsx("th",{className:"table-header-cell",children:"Status"}),t.jsx("th",{className:"table-header-cell",children:"Assigned To"}),t.jsx("th",{className:"table-header-cell",children:"Created"}),t.jsx("th",{className:"table-header-cell",children:"Actions"})]})}),t.jsx("tbody",{className:"table-body",children:C.map(L=>t.jsxs("tr",{children:[t.jsx("td",{className:"table-cell",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:$(L.category)}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",L.ticket_number]}),t.jsx("p",{className:"text-sm text-gray-500 max-w-xs truncate",children:L.subject})]})]})}),t.jsx("td",{className:"table-cell",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:L.requester_name}),t.jsx("p",{className:"text-xs text-gray-500",children:L.requester_email})]})}),t.jsx("td",{className:"table-cell",children:t.jsx("span",{className:"text-sm text-gray-900 capitalize",children:L.category})}),t.jsx("td",{className:"table-cell",children:A(L.priority)}),t.jsx("td",{className:"table-cell",children:w(L.status)}),t.jsx("td",{className:"table-cell",children:L.assignedUser?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"h-6 w-6 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Bt,{className:"h-3 w-3 text-blue-600"})}),t.jsx("span",{className:"text-sm text-gray-900",children:L.assignedUser.name})]}):t.jsx("span",{className:"text-sm text-gray-500",children:"Unassigned"})}),t.jsx("td",{className:"table-cell",children:t.jsx("span",{className:"text-sm text-gray-500",children:Ys(new Date(L.created_at),"MMM dd, yyyy")})}),t.jsx("td",{className:"table-cell",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>b(L),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Open Chat",children:t.jsx(He,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>h(L),className:"p-1 text-gray-600 hover:bg-gray-50 rounded",title:"View Details",children:t.jsx(Ae,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>h(L),className:"p-1 text-gray-600 hover:bg-gray-50 rounded",title:"Edit",children:t.jsx(Ms,{className:"h-4 w-4"})})]})})]},L.id))})]})}),S&&S.totalPages>1&&t.jsxs("div",{className:"pagination",children:[t.jsxs("div",{className:"pagination-info",children:["Showing ",(S.page-1)*S.limit+1," to"," ",Math.min(S.page*S.limit,S.total)," of"," ",S.total," results"]}),t.jsxs("div",{className:"pagination-nav",children:[t.jsx("button",{onClick:()=>e(s-1),disabled:s===1,className:`pagination-button ${s===1?"pagination-button-disabled":""}`,children:"Previous"}),t.jsx("span",{className:"pagination-button pagination-button-active",children:s}),t.jsx("button",{onClick:()=>e(s+1),disabled:s===S.totalPages,className:`pagination-button ${s===S.totalPages?"pagination-button-disabled":""}`,children:"Next"})]})]})]})})}),p&&d&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:t.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),t.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:t.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Support Chat - #",d.ticket_number]}),t.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(js,{className:"h-6 w-6"})})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 h-96 overflow-y-auto",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.requester_name}),t.jsx("span",{className:"text-xs text-gray-500",children:Ys(new Date(d.created_at),"MMM dd, yyyy HH:mm")})]}),t.jsx("p",{className:"text-sm text-gray-700",children:d.description})]}),t.jsx("div",{className:"text-center text-gray-500 text-sm",children:"Chat functionality will be implemented with Socket.io"})]})}),t.jsxs("div",{className:"mt-4 flex space-x-2",children:[t.jsx("input",{type:"text",placeholder:"Type your message...",className:"form-input flex-1"}),t.jsx("button",{className:"btn-primary",children:"Send"})]})]})})]})}),y&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:t.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),t.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full animate-modal-in",children:[t.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Support Ticket"}),t.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(js,{className:"h-6 w-6"})})]}),t.jsxs("form",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester Name *"}),t.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter requester name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),t.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email address"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),t.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select Priority"}),t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),t.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select Category"}),t.jsx("option",{value:"technical",children:"Technical"}),t.jsx("option",{value:"billing",children:"Billing"}),t.jsx("option",{value:"general",children:"General"}),t.jsx("option",{value:"support",children:"Support"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),t.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter phone number (optional)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),t.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief description of the issue"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),t.jsx("textarea",{required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Detailed description of the issue or request"})]})]})]}),t.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[t.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-200",children:"Create Ticket"}),t.jsx("button",{type:"button",onClick:()=>v(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-200",children:"Cancel"})]})]})]})})]})},qc=()=>{const[s,e]=g.useState([]),[r,n]=g.useState([]),[i,a]=g.useState(!0),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,h]=g.useState("all"),[p,x]=g.useState(1),[y,v]=g.useState(1),[f]=g.useState(10);g.useEffect(()=>{R()},[p]);const R=async()=>{var _;try{a(!0);const F=await On.getAll({page:p,limit:f,search:o,status:c==="all"?void 0:c,role:d==="all"?void 0:d});e(F.data.users||[]),n(F.data.users||[]),v(((_=F.data.pagination)==null?void 0:_.totalPages)||1)}catch(F){console.error("Error fetching users:",F),e([]),n([])}finally{a(!1)}};g.useEffect(()=>{let _=s;o&&(_=_.filter(F=>F.name.toLowerCase().includes(o.toLowerCase())||F.email.toLowerCase().includes(o.toLowerCase())||F.mobile&&F.mobile.includes(o))),c!=="all"&&(_=_.filter(F=>F.status===c)),d!=="all"&&(_=_.filter(F=>F.role===d)),n(_)},[s,o,c,d]);const j=_=>{l(_.target.value)},b=_=>{u(_)},C=_=>{h(_)},S=_=>{x(_)},w=_=>_==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",A=_=>{switch(_){case"Super Admin":return"bg-purple-100 text-purple-800";case"Finance Manager":return"bg-blue-100 text-blue-800";case"Support Team":return"bg-green-100 text-green-800";case"Restaurant":return"bg-orange-100 text-orange-800";case"Delivery Boy":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},$=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return i?t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((_,F)=>t.jsx("div",{className:"h-20 bg-gray-200 rounded"},F))})]})}):t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),t.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(qs,{size:20}),"Add User"]})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Search users by name, email, or phone...",value:o,onChange:j,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg border ${c==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"All"}),t.jsx("button",{onClick:()=>b("active"),className:`px-4 py-2 rounded-lg border ${c==="active"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Active"}),t.jsx("button",{onClick:()=>b("inactive"),className:`px-4 py-2 rounded-lg border ${c==="inactive"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Inactive"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs("select",{value:d,onChange:_=>C(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"Super Admin",children:"Super Admin"}),t.jsx("option",{value:"Finance Manager",children:"Finance Manager"}),t.jsx("option",{value:"Support Team",children:"Support Team"}),t.jsx("option",{value:"Restaurant",children:"Restaurant"}),t.jsx("option",{value:"Delivery Boy",children:"Delivery Boy"}),t.jsx("option",{value:"User",children:"User"})]})})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border",children:r.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"text-gray-500 text-lg mb-2",children:"No users found"}),t.jsx("div",{className:"text-gray-400",children:"Try adjusting your search or filters"})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(_=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(Bt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),t.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",_.id]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[t.jsx(Sn,{className:"h-4 w-4 mr-2 text-gray-400"}),_.email]}),_.mobile&&t.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[t.jsx(kl,{className:"h-4 w-4 mr-2 text-gray-400"}),_.mobile]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A(_.role||"User")}`,children:[t.jsx(_n,{className:"h-3 w-3 mr-1"}),_.role||"User"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(_.status)}`,children:_.status})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[t.jsx(Ye,{className:"h-4 w-4 mr-2 text-gray-400"}),$(_.created_at)]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:t.jsx(Ae,{size:16})}),t.jsx("button",{className:"text-green-600 hover:text-green-900",children:t.jsx(Ms,{size:16})}),t.jsx("button",{className:"text-red-600 hover:text-red-900",children:t.jsx(En,{size:16})}),t.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:t.jsx(Cn,{size:16})})]})})]},_.id))})]})})}),y>1&&t.jsx("div",{className:"mt-6 flex justify-center",children:t.jsxs("nav",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>S(p-1),disabled:p===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(y)].map((_,F)=>{const z=F+1;return t.jsx("button",{onClick:()=>S(z),className:`px-3 py-2 text-sm font-medium rounded-lg border ${p===z?"bg-blue-600 text-white border-blue-600":"text-gray-500 bg-white border-gray-300 hover:bg-gray-50"}`,children:z},z)}),t.jsx("button",{onClick:()=>S(p+1),disabled:p===y,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})},Bc=()=>{const[s,e]=g.useState(null),[r,n]=g.useState(!0),[i,a]=g.useState("30");g.useEffect(()=>{o()},[i]);const o=async()=>{try{n(!0);const d=new Date,h=new Date;h.setDate(h.getDate()-parseInt(i));const[p,x,y,v,f]=await Promise.allSettled([Nt.getAnalytics({startDate:h.toISOString().split("T")[0],endDate:d.toISOString().split("T")[0]}),Ve.getAnalytics(),An.getAll({page:1,limit:100}),ws.getStats(),On.getStats()]);e({dashboard:p.status==="fulfilled"?p.value.data:null,payments:x.status==="fulfilled"?x.value.data:null,restaurants:y.status==="fulfilled"?y.value.data:null,support:v.status==="fulfilled"?v.value.data:null,users:f.status==="fulfilled"?f.value.data:null})}catch(d){console.error("Error fetching analytics data:",d)}finally{n(!1)}},l=(d,h,p=0)=>h.split(".").reduce((x,y)=>x==null?void 0:x[y],d)||p,c=d=>d>=1e6?(d/1e6).toFixed(1)+"M":d>=1e3?(d/1e3).toFixed(1)+"K":d.toString(),u=d=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(d);return r?t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((d,h)=>t.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},h))}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((d,h)=>t.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"},h))})]})}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and performance metrics"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("select",{value:i,onChange:d=>a(d.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"7",children:"Last 7 days"}),t.jsx("option",{value:"30",children:"Last 30 days"}),t.jsx("option",{value:"90",children:"Last 90 days"}),t.jsx("option",{value:"365",children:"Last year"})]}),t.jsxs("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(qt,{size:16}),"Refresh"]}),t.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[t.jsx(Gt,{size:16}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u(l(s==null?void 0:s.payments,"totalAmount",0))}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(me,{className:"h-4 w-4 text-green-500 mr-1"}),t.jsx("span",{className:"text-sm text-green-600",children:"+12.5%"}),t.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last period"})]})]}),t.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(Ee,{className:"h-6 w-6 text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Restaurants"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(s==null?void 0:s.restaurants,"pagination.total",0)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(me,{className:"h-4 w-4 text-green-500 mr-1"}),t.jsx("span",{className:"text-sm text-green-600",children:"+8.2%"}),t.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),t.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(ke,{className:"h-6 w-6 text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(s==null?void 0:s.users,"stats.total",0)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(me,{className:"h-4 w-4 text-green-500 mr-1"}),t.jsx("span",{className:"text-sm text-green-600",children:"+15.3%"}),t.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),t.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(Xt,{className:"h-6 w-6 text-purple-600"})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Open Tickets"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(s==null?void 0:s.support,"stats.byStatus.open",0)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(Bs,{className:"h-4 w-4 text-red-500 mr-1"}),t.jsx("span",{className:"text-sm text-red-600",children:"-5.1%"}),t.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last week"})]})]}),t.jsx("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx(Re,{className:"h-6 w-6 text-orange-600"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",children:t.jsx(be,{className:"h-4 w-4 text-gray-600"})})})]}),t.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsx(be,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"Revenue trend chart will be implemented"})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Growth"}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",children:t.jsx(me,{className:"h-4 w-4 text-gray-600"})})})]}),t.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsx(me,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"User growth chart will be implemented"})]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Analytics"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),t.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[l(s==null?void 0:s.payments,"successRate",0),"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total Payments"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:c(l(s==null?void 0:s.payments,"totalPayments",0))})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Average Amount"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:u(l(s==null?void 0:s.payments,"averageAmount",0))})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Restaurant Analytics"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Active Restaurants"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:l(s==null?void 0:s.restaurants,"pagination.total",0)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"New This Month"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"+12"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Avg Rating"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"4.2"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Support Analytics"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total Tickets"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:l(s==null?void 0:s.support,"stats.total",0)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Resolved"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:l(s==null?void 0:s.support,"stats.byStatus.resolved",0)})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Response Time"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"2.4h"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Performance Metrics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx("span",{className:"text-2xl font-bold text-green-600",children:"98%"})}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Uptime"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Last 30 days"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"1.2s"})}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Avg Response"}),t.jsx("p",{className:"text-xs text-gray-500",children:"API calls"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"h-16 w-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"99.9%"})}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Success Rate"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Transactions"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"h-16 w-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx("span",{className:"text-2xl font-bold text-orange-600",children:"24/7"})}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Support"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Availability"})]})]})]})]})},Uc=()=>{const[s,e]=g.useState([]),[r,n]=g.useState(!0),[i,a]=g.useState("all"),[o,l]=g.useState("30"),[c,u]=g.useState(!1);g.useEffect(()=>{d()},[]);const d=async()=>{try{n(!0),e([{id:"1",title:"Monthly Revenue Report",type:"financial",description:"Comprehensive revenue analysis for the current month",generatedAt:"2024-01-15T10:30:00Z",period:"January 2024",status:"ready",size:"2.4 MB",format:"PDF"},{id:"2",title:"Restaurant Performance Report",type:"operational",description:"Restaurant metrics, ratings, and performance indicators",generatedAt:"2024-01-14T15:45:00Z",period:"Q4 2023",status:"ready",size:"1.8 MB",format:"Excel"},{id:"3",title:"User Analytics Report",type:"user",description:"User growth, engagement, and behavior analysis",generatedAt:"2024-01-13T09:20:00Z",period:"December 2023",status:"ready",size:"3.2 MB",format:"CSV"},{id:"4",title:"Support Ticket Analysis",type:"support",description:"Support ticket trends, resolution times, and satisfaction scores",generatedAt:"2024-01-12T14:15:00Z",period:"Last 30 days",status:"ready",size:"1.5 MB",format:"PDF"},{id:"5",title:"Payment Processing Report",type:"financial",description:"Payment success rates, failed transactions, and processing times",generatedAt:"2024-01-11T11:00:00Z",period:"January 2024",status:"generating",size:"0 MB",format:"PDF"}])}catch(f){console.error("Error fetching reports:",f)}finally{n(!1)}},h=f=>{switch(f){case"financial":return t.jsx(Ee,{className:"h-5 w-5"});case"operational":return t.jsx(ke,{className:"h-5 w-5"});case"user":return t.jsx(Xt,{className:"h-5 w-5"});case"support":return t.jsx(Re,{className:"h-5 w-5"});default:return t.jsx(vs,{className:"h-5 w-5"})}},p=f=>{switch(f){case"financial":return"bg-green-100 text-green-800";case"operational":return"bg-blue-100 text-blue-800";case"user":return"bg-purple-100 text-purple-800";case"support":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=f=>{switch(f){case"ready":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=s.filter(f=>!(i!=="all"&&f.type!==i));return r?t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((f,R)=>t.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},R))})]})}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Generate and manage comprehensive business reports"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(vs,{size:16}),"Generate Report"]})})]}),t.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),t.jsxs("select",{value:i,onChange:f=>a(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"financial",children:"Financial"}),t.jsx("option",{value:"operational",children:"Operational"}),t.jsx("option",{value:"user",children:"User Analytics"}),t.jsx("option",{value:"support",children:"Support"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Period"}),t.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"7",children:"Last 7 days"}),t.jsx("option",{value:"30",children:"Last 30 days"}),t.jsx("option",{value:"90",children:"Last 90 days"}),t.jsx("option",{value:"365",children:"Last year"})]})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(f=>t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${p(f.type)}`,children:h(f.type)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.title}),t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(f.type)}`,children:f.type})]})]}),t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(f.status)}`,children:f.status})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:f.description}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Period:"}),t.jsx("span",{className:"text-gray-900",children:f.period})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Generated:"}),t.jsx("span",{className:"text-gray-900",children:y(f.generatedAt)})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Size:"}),t.jsx("span",{className:"text-gray-900",children:f.size})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-500",children:"Format:"}),t.jsx("span",{className:"text-gray-900",children:f.format})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[f.status==="ready"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm",children:[t.jsx(Gt,{size:14}),"Download"]}),t.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:t.jsx(Ae,{size:16})}),t.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:t.jsx(Cl,{size:16})})]}),f.status==="generating"&&t.jsxs("div",{className:"flex-1 bg-yellow-100 text-yellow-800 px-3 py-2 rounded-lg flex items-center justify-center gap-2 text-sm",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600"}),"Generating..."]}),f.status==="failed"&&t.jsx("button",{className:"flex-1 bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 text-sm",children:"Retry Generation"})]})]},f.id))}),c&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:t.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),t.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[t.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Generate New Report"}),t.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"financial",children:"Financial Report"}),t.jsx("option",{value:"operational",children:"Operational Report"}),t.jsx("option",{value:"user",children:"User Analytics Report"}),t.jsx("option",{value:"support",children:"Support Report"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Period"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"7",children:"Last 7 days"}),t.jsx("option",{value:"30",children:"Last 30 days"}),t.jsx("option",{value:"90",children:"Last 90 days"}),t.jsx("option",{value:"365",children:"Last year"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format"}),t.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"PDF",children:"PDF"}),t.jsx("option",{value:"Excel",children:"Excel"}),t.jsx("option",{value:"CSV",children:"CSV"})]})]})]})]}),t.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[t.jsx("button",{className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>u(!1),children:"Generate Report"}),t.jsx("button",{className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>u(!1),children:"Cancel"})]})]})]})})]})},Ic=({children:s})=>{const{isAuthenticated:e,loading:r}=at();return r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?t.jsx(t.Fragment,{children:s}):t.jsx(Or,{to:"/login",replace:!0})};function $c(){return t.jsxs(ti,{children:[t.jsx(le,{path:"/login",element:t.jsx(Ll,{})}),t.jsxs(le,{path:"/",element:t.jsx(Ic,{children:t.jsx(Fl,{})}),children:[t.jsx(le,{index:!0,element:t.jsx(Or,{to:"/dashboard",replace:!0})}),t.jsx(le,{path:"dashboard",element:t.jsx(Tc,{})}),t.jsx(le,{path:"restaurants",element:t.jsx(Pc,{})}),t.jsx(le,{path:"payments",element:t.jsx(Dc,{})}),t.jsx(le,{path:"support",element:t.jsx(Mc,{})}),t.jsx(le,{path:"users",element:t.jsx(qc,{})}),t.jsx(le,{path:"analytics",element:t.jsx(Bc,{})}),t.jsx(le,{path:"reports",element:t.jsx(Uc,{})})]})]})}const zc=new Ai({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}});ls.createRoot(document.getElementById("root")).render(t.jsx(Z.StrictMode,{children:t.jsx(Di,{client:zc,children:t.jsx(si,{children:t.jsx(ol,{children:t.jsxs(Ac,{children:[t.jsx($c,{}),t.jsx(Ea,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})}));
//# sourceMappingURL=index-hlSpu5oy.js.map
